# ==================================================
# Path: E:\WorkPlace\DoanCN\TLookShop\TLookShop
# Detected tech: docker, javascript, python, react, typescript
# ==================================================

## DIRECTORY STRUCTURE
```
TLookShop/
├── .git/
├── admin/
│   ├── node_modules/
│   ├── public/
│   │   └── vite.svg
│   ├── src/
│   │   ├── assets/
│   │   │   ├── add_icon.png
│   │   │   ├── assets.js
│   │   │   ├── dashboard_icon.png
│   │   │   ├── delete_icon.png
│   │   │   ├── icon_thongke.png
│   │   │   ├── list_order_icon.png
│   │   │   ├── logo.png
│   │   │   ├── logo1 (2).png
│   │   │   ├── logo_1 (2).png
│   │   │   ├── order_icon.png
│   │   │   ├── parcel_icon.jpg
│   │   │   ├── parcel_icon.svg
│   │   │   ├── upload_area.png
│   │   │   └── user_icon.png
│   │   ├── components/
│   │   │   ├── ConfirmModal.jsx
│   │   │   ├── Login.jsx
│   │   │   ├── Navbar.jsx
│   │   │   ├── Sidebar.jsx
│   │   │   └── SimpleChart.jsx
│   │   ├── pages/
│   │   │   ├── Add.jsx
│   │   │   ├── Dashboard.jsx
│   │   │   ├── List.jsx
│   │   │   ├── Orders.jsx
│   │   │   ├── Statistics.jsx
│   │   │   └── Users.jsx
│   │   ├── App.jsx
│   │   ├── index.css
│   │   └── main.jsx
│   ├── .env
│   ├── .gitignore
│   ├── README.md
│   ├── eslint.config.js
│   ├── index.html
│   ├── package-lock.json
│   ├── package.json
│   ├── vercel.json
│   └── vite.config.js
├── backend/
│   ├── config/
│   │   ├── cloudinary.js
│   │   └── mongodb.js
│   ├── controllers/
│   │   ├── cartController.js
│   │   ├── orderController.js
│   │   ├── productController.js
│   │   ├── statisticsController.js
│   │   └── userController.js
│   ├── middleware/
│   │   ├── adminAuth.js
│   │   ├── auth.js
│   │   └── multer.js
│   ├── models/
│   │   ├── couponModel.js
│   │   ├── orderModel.js
│   │   ├── productModel.js
│   │   └── userModel.js
│   ├── node_modules/
│   ├── routes/
│   │   ├── cartRoute.js
│   │   ├── orderRoute.js
│   │   ├── productRoute.js
│   │   ├── statisticsRoute.js
│   │   └── userRoute.js
│   ├── .env
│   ├── package-lock.json
│   ├── package.json
│   ├── server.js
│   └── vercel.json
├── frontend/
│   ├── node_modules/
│   ├── public/
│   │   └── vite.svg
│   ├── src/
│   │   ├── assets/
│   │   │   ├── about_img.png
│   │   │   ├── assets.js
│   │   │   ├── bin_icon.png
│   │   │   ├── cart_icon.png
│   │   │   ├── contact_img.png
│   │   │   ├── cross_icon.png
│   │   │   ├── dropdown_icon.png
│   │   │   ├── exchange_icon.png
│   │   │   ├── hero_img.png
│   │   │   ├── hero_img2.png
│   │   │   ├── logo_tlook.png
│   │   │   ├── menu_icon.png
│   │   │   ├── p_img1.webp
│   │   │   ├── p_img10.webp
│   │   │   ├── p_img10_1.webp
│   │   │   ├── p_img10_2.webp
│   │   │   ├── p_img10_3.webp
│   │   │   ├── p_img10_4.webp
│   │   │   ├── p_img11.webp
│   │   │   ├── p_img11_1.webp
│   │   │   ├── p_img11_2.webp
│   │   │   ├── p_img11_3.webp
│   │   │   ├── p_img12.webp
│   │   │   ├── p_img12_1.webp
│   │   │   ├── p_img12_2.webp
│   │   │   ├── p_img13.webp
│   │   │   ├── p_img14.webp
│   │   │   ├── p_img15.webp
│   │   │   ├── p_img16.webp
│   │   │   ├── p_img17.webp
│   │   │   ├── p_img18.webp
│   │   │   ├── p_img18_1.webp
│   │   │   ├── p_img19.webp
│   │   │   ├── p_img19_1.webp
│   │   │   ├── p_img19_2.webp
│   │   │   ├── p_img1_1.webp
│   │   │   ├── p_img1_2.webp
│   │   │   ├── p_img2.webp
│   │   │   ├── p_img20.webp
│   │   │   ├── p_img20_1.webp
│   │   │   ├── p_img20_2.webp
│   │   │   ├── p_img21.webp
│   │   │   ├── p_img22.webp
│   │   │   ├── p_img23.webp
│   │   │   ├── p_img25.webp
│   │   │   ├── p_img25_1.webp
│   │   │   ├── p_img26.webp
│   │   │   ├── p_img26_1.webp
│   │   │   ├── p_img26_2.webp
│   │   │   ├── p_img26_3.webp
│   │   │   ├── p_img2_1.webp
│   │   │   ├── p_img2_2.webp
│   │   │   ├── p_img2_3.webp
│   │   │   ├── p_img2_4.webp
│   │   │   ├── p_img2_5.webp
│   │   │   ├── p_img3.webp
│   │   │   ├── p_img3_1.webp
│   │   │   ├── p_img3_2.webp
│   │   │   ├── p_img4.webp
│   │   │   ├── p_img4_1.webp
│   │   │   ├── p_img4_2.webp
│   │   │   ├── p_img5.webp
│   │   │   ├── p_img5_1.webp
│   │   │   ├── p_img5_2.webp
│   │   │   ├── p_img5_3.webp
│   │   │   ├── p_img6.webp
│   │   │   ├── p_img6_1.webp
│   │   │   ├── p_img6_2.webp
│   │   │   ├── p_img6_3.webp
│   │   │   ├── p_img6_4.webp
│   │   │   ├── p_img6_5.webp
│   │   │   ├── p_img7.webp
│   │   │   ├── p_img7_1.webp
│   │   │   ├── p_img7_2.webp
│   │   │   ├── p_img7_3.webp
│   │   │   ├── p_img7_4.webp
│   │   │   ├── p_img7_5.webp
│   │   │   ├── p_img8.jpg
│   │   │   ├── p_img8_1.jpg
│   │   │   ├── p_img8_1.webp
│   │   │   ├── p_img8_2.jpg
│   │   │   ├── p_img8_2.webp
│   │   │   ├── p_img8_3.jpg
│   │   │   ├── p_img8_3.webp
│   │   │   ├── p_img8_4.webp
│   │   │   ├── p_img8_5.webp
│   │   │   ├── p_img9.webp
│   │   │   ├── p_img9_1.webp
│   │   │   ├── p_img9_2.webp
│   │   │   ├── p_img9_3.webp
│   │   │   ├── p_img9_4.webp
│   │   │   ├── p_img_16.webp
│   │   │   ├── p_img_16_1.webp
│   │   │   ├── p_img_16_2.webp
│   │   │   ├── p_img_16_3.webp
│   │   │   ├── p_img_20_3.webp
│   │   │   ├── p_img_22.webp
│   │   │   ├── p_ing44.jpg
│   │   │   ├── p_ing44_1.jpg
│   │   │   ├── p_ing44_2.jpg
│   │   │   ├── p_ing44_3.jpg
│   │   │   ├── profile_icon.png
│   │   │   ├── quality_icon.png
│   │   │   ├── razorpay_logo.png
│   │   │   ├── search_icon.png
│   │   │   ├── star_dull_icon.png
│   │   │   ├── star_icon.png
│   │   │   ├── stripe_logo.png
│   │   │   └── support_img.png
│   │   ├── components/
│   │   │   ├── BestSeller.jsx
│   │   │   ├── CartTotal.jsx
│   │   │   ├── Footer.jsx
│   │   │   ├── Hero.jsx
│   │   │   ├── LatestCollection.jsx
│   │   │   ├── Loading.jsx
│   │   │   ├── Navbar.jsx
│   │   │   ├── NewsletterBox.jsx
│   │   │   ├── OurPolicy.jsx
│   │   │   ├── ProductItem.jsx
│   │   │   ├── ProtectedRoute.jsx
│   │   │   ├── QuickAddModal.jsx
│   │   │   ├── RelatedProducts.jsx
│   │   │   ├── SearchBar.jsx
│   │   │   └── Title.jsx
│   │   ├── context/
│   │   │   └── ShopContext.jsx
│   │   ├── pages/
│   │   │   ├── About.jsx
│   │   │   ├── Cart.jsx
│   │   │   ├── Collection.jsx
│   │   │   ├── Contact.jsx
│   │   │   ├── Home.jsx
│   │   │   ├── Login.jsx
│   │   │   ├── Orders.jsx
│   │   │   ├── PlaceOrder.jsx
│   │   │   ├── Product.jsx
│   │   │   ├── Profile.jsx
│   │   │   └── Verify.jsx
│   │   ├── App.jsx
│   │   ├── index.css
│   │   └── main.jsx
│   ├── .env
│   ├── .gitignore
│   ├── README.md
│   ├── eslint.config.js
│   ├── index.html
│   ├── package-lock.json
│   ├── package.json
│   ├── postcss.config.js
│   ├── tailwind.config.js
│   ├── vercel.json
│   └── vite.config.js
├── .gitignore
└── README.md
```

## FILE CONTENTS

### admin\eslint.config.js
```js
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs['recommended-latest'],
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])

```

### admin\vite.config.js
```js
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import tailwindcss from '@tailwindcss/vite'
// https://vite.dev/config/
export default defineConfig({
  plugins: [react(),  tailwindcss(),],
  server: { port: 5174}
})

```

### admin\src\App.jsx
```jsx
import React, { useState } from "react";
import Navbar from "./components/Navbar";
import Sidebar from "./components/Sidebar";
import { Routes, Route } from "react-router-dom";
import Add from "./pages/Add";
import List from "./pages/List";
import Orders from "./pages/Orders";
import Users from "./pages/Users";
import Statistics from "./pages/Statistics";
import Dashboard from "./pages/Dashboard";
import Login from "./components/Login";
import { ToastContainer } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";
import { useEffect } from "react";

export const backendUrl = import.meta.env.VITE_BACKEND_URL;
export const currency = " đ";

const App = () => {
  const [token, setToken] = useState(localStorage.getItem("token") ? localStorage.getItem("token") : "");

  useEffect(() => {
    localStorage.setItem("token", token);
  }, [token]);

  return (
    <div className="bg-gray-50 min-h-screen">
      <ToastContainer />
      {token === "" ? (
        <Login setToken={setToken} />
      ) : (
        <>
          <Navbar setToken={setToken} />
          <hr className="text-gray-300" />
          <div className="flex w-full">
            <Sidebar />
            <div className="w-[70%] mx-auto ml-[max(5vw,25px)] my-8 text-gray-600 text-base">
              <Routes>
                <Route path="/" element={<Dashboard token={token} />} />
                <Route path="/add" element={<Add token={token} />} />
                <Route path="/list" element={<List token={token} />} />
                <Route path="/orders" element={<Orders token={token} />} />
                <Route path="/users" element={<Users token={token} />} />
                <Route path="/statistics" element={<Statistics token={token} />} />
              </Routes>
            </div>
          </div>
        </>
      )}
    </div>
  );
};

export default App;

```

### admin\src\main.jsx
```jsx

import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.jsx'
import { BrowserRouter } from 'react-router-dom'

createRoot(document.getElementById('root')).render(
  <BrowserRouter>
    <App />
  </BrowserRouter>,
)

```

### admin\src\assets\assets.js
```js
import logo from './logo.png'
import add_icon from './add_icon.png'
import order_icon from './order_icon.png'
import list_order_icon from './list_order_icon.png'
import upload_area from './upload_area.png'
import parcel_icon from './parcel_icon.jpg'
import delete_icon from './delete_icon.png'

export const assets = {
    logo,
    add_icon,
    order_icon,
    list_order_icon,
    upload_area,
    parcel_icon,
    delete_icon
}


```

### admin\src\components\ConfirmModal.jsx
```jsx
import React from "react";

const ConfirmModal = ({ isOpen, onClose, onConfirm, title, message, confirmText = "Xóa", cancelText = "Hủy" }) => {
  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 bg-gray-500 opacity-96 flex items-center justify-center z-50">
      <div className="bg-white rounded-lg p-6 max-w-sm w-full mx-4 shadow-xl">
        <div className="flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4">
          <svg className="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"
            />
          </svg>
        </div>

        <div className="text-center">
          <h3 className="text-lg font-semibold text-gray-900 mb-2">{title}</h3>
          <p className="text-sm text-gray-500 mb-6">{message}</p>

          <div className="flex gap-3 justify-center">
            <button
              onClick={onClose}
              className="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium"
            >
              {cancelText}
            </button>
            <button
              onClick={onConfirm}
              className="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"
            >
              {confirmText}
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ConfirmModal;

```

### admin\src\components\Login.jsx
```jsx
import { toast } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';
import axios from 'axios';
import React from 'react'
import { useState } from 'react'
import { backendUrl } from '../App';
const Login = ({setToken}) => {

    const [email,setEmail] = useState('');
    const [password,setPassword] = useState('');

    const onSubmitHandler = async (e) => {
        try {
            e.preventDefault();
            const response = await axios.post(backendUrl+ '/api/user/admin', {email,password});
            if (response.data.success){
                setToken(response.data.token);
            } else {
                toast.error(response.data.message);
            }
            
            
        } catch (error) {
            console.log(error);
            toast.error(error.message);
        }
    }


  return (
    <div className='min-h-screen flex items-center justify-center w-full'>
        <div className='bg-white shadow-md rounded-lg px-8 py-6 max-w-md'>
            <h1 className='text-2xl font-bold mb-4 text-center'>Admin đăng nhập</h1>
            <form onSubmit = {onSubmitHandler}>
                <div className='mb-3 min-w-72'>
                    <p className='text-sm font-medium text-gray-700 mb-2'>Email</p>
                    <input onChange={(e) =>setEmail(e.target.value)} value={email} className='rounded-md w-full px-3 py-2 border border-gray-300  outline-none' type="email" placeholder='Nhập email' required />
                </div>
                <div className='mb-3 min-w-72'>
                    <p className='text-sm font-medium text-gray-700 mb-2'>Mật khẩu</p>
                    <input onChange={(e) =>setPassword(e.target.value)} value={password} className='rounded-md w-full px-3 py-2 border border-gray-300 outline-none' type="password" placeholder='Nhập mật khẩu' required />
                </div>
                <button className='mt-2 w-full py-2 px-4 rounded-md text-white bg-black ' type='submit'>Đăng nhập</button>
            </form>
        </div>
    </div>
  )
}

export default Login
```

### admin\src\components\Navbar.jsx
```jsx
import React from 'react'
import { assets } from '../assets/assets'

const Navbar = ({setToken}) => {
  return (
    <div className='flex items-center justify-between py-2 px-[4%]'>
        <img className='w-[max(10%,80px)]' src={assets.logo} alt="" />
        <button onClick={()=>setToken('')} className='bg-gray-600 text-white px-5 py-2 sm:px-7 sm:py-2 rounded-full text-xs sm:text-sm '>Đăng xuất</button>
    </div>
  )
}

export default Navbar
```

### admin\src\components\Sidebar.jsx
```jsx
import React from "react";
import { NavLink } from "react-router-dom";
import { assets } from "../assets/assets";

const Sidebar = () => {
  return (
    <div className="w-[18%] min-h-screen border-r-2 border-r-gray-300">
      <div className="flex flex-col gap-4 pt-6 pl-[20%] text-[15px]">
        <NavLink className="flex items-center gap-3 border border-gray-300 border-r-0 px-3 py-2 rounded-l" to="/">
          <div className="w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold">
             <img src={assets.dashboard_icon} alt="" />
          </div>
          <p className="hidden md:block">Dashboard</p>
        </NavLink>

        <NavLink className="flex items-center gap-3 border border-gray-300 border-r-0 px-3 py-2 rounded-l" to="/add">
          <img className="w-6 h-6 icon" src={assets.add_icon} alt="" />
          <p className="hidden md:block">Thêm sản phẩm</p>
        </NavLink>

        <NavLink className="flex items-center gap-3 border border-gray-300 border-r-0 px-3 py-2 rounded-l" to="/list">
          <img className="w-6 h-6 icon" src={assets.order_icon} alt="" />
          <p className="hidden md:block">Danh sách sản phẩm</p>
        </NavLink>

        <NavLink className="flex items-center gap-3 border border-gray-300 border-r-0 px-3 py-2 rounded-l" to="/orders">
          <img className="w-6 h-6 " src={assets.list_order_icon} alt="" />
          <p className="hidden md:block">Danh sách đơn hàng</p>
        </NavLink>

        <NavLink className="flex items-center gap-3 border border-gray-300 border-r-0 px-3 py-2 rounded-l" to="/users">
          <div className="w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold">
            <img src={assets.user_icon} alt="" />
          </div>
          <p className="hidden md:block">Quản lý tài khoản khách hàng</p>
        </NavLink>

        <NavLink
          className="flex items-center gap-3 border border-gray-300 border-r-0 px-3 py-2 rounded-l"
          to="/statistics"
        >
          <div className="w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold">
            <img src={assets.icon_thongke} alt="" />
          </div>
          <p className="hidden md:block">Thống kê & Báo cáo</p>
        </NavLink>
      </div>
    </div>
  );
};

export default Sidebar;

```

### admin\src\components\SimpleChart.jsx
```jsx
import React from "react";

const SimpleChart = ({ data, title, type = "bar" }) => {
  if (!data || data.length === 0) {
    return (
      <div className="bg-white p-6 rounded-lg shadow-md">
        <h3 className="text-lg font-semibold text-gray-800 mb-4">{title}</h3>
        <div className="text-center text-gray-500 py-8">
          <p>Không có dữ liệu để hiển thị</p>
        </div>
      </div>
    );
  }

  const maxValue = Math.max(...data.map((item) => item.value || 0));

  return (
    <div className="bg-white p-6 rounded-lg shadow-md">
      <h3 className="text-lg font-semibold text-gray-800 mb-6">{title}</h3>

      {type === "bar" && (
        <div className="space-y-4">
          {data.map((item, index) => (
            <div key={index} className="flex items-center">
              <div className="w-20 text-sm text-gray-600 font-medium mr-4">{item.label}</div>
              <div className="flex-1 bg-gray-200 rounded-full h-4 relative">
                <div
                  className="bg-gradient-to-r from-blue-500 to-blue-600 h-4 rounded-full transition-all duration-300"
                  style={{ width: `${(item.value / maxValue) * 100}%` }}
                ></div>
              </div>
              <div className="w-16 text-right text-sm font-semibold text-gray-700 ml-4">
                {typeof item.value === "number" ? item.value.toLocaleString() : item.value}
              </div>
            </div>
          ))}
        </div>
      )}

      {type === "line" && (
        <div className="relative h-64">
          <div className="absolute inset-0 flex items-end justify-around">
            {data.map((item, index) => (
              <div key={index} className="flex flex-col items-center">
                <div
                  className="w-8 bg-gradient-to-t from-green-500 to-green-400 rounded-t-lg transition-all duration-300"
                  style={{ height: `${(item.value / maxValue) * 200}px` }}
                ></div>
                <div className="text-xs text-gray-600 mt-2 text-center">{item.label}</div>
              </div>
            ))}
          </div>
        </div>
      )}

      {type === "pie" && (
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div className="relative w-32 h-32 mx-auto">
            {/* Simple pie chart representation */}
            <div className="w-full h-full bg-gray-200 rounded-full relative overflow-hidden">
              {data.map((item, index) => {
                const colors = ["bg-blue-500", "bg-green-500", "bg-purple-500", "bg-orange-500", "bg-red-500"];
                const percentage = (item.value / data.reduce((sum, d) => sum + d.value, 0)) * 100;

                return (
                  <div
                    key={index}
                    className={`absolute inset-0 ${colors[index % colors.length]} rounded-full`}
                    style={{
                      clipPath: `polygon(50% 50%, 50% 0%, ${50 + percentage}% 0%, ${50 + percentage}% 100%, 50% 100%)`,
                    }}
                  ></div>
                );
              })}
            </div>
          </div>

          <div className="space-y-2">
            {data.map((item, index) => {
              const colors = ["bg-blue-500", "bg-green-500", "bg-purple-500", "bg-orange-500", "bg-red-500"];
              const percentage = ((item.value / data.reduce((sum, d) => sum + d.value, 0)) * 100).toFixed(1);

              return (
                <div key={index} className="flex items-center">
                  <div className={`w-4 h-4 ${colors[index % colors.length]} rounded-full mr-2`}></div>
                  <div className="flex-1">
                    <div className="text-sm font-medium text-gray-700">{item.label}</div>
                    <div className="text-xs text-gray-500">{percentage}%</div>
                  </div>
                  <div className="text-sm font-semibold text-gray-700">
                    {typeof item.value === "number" ? item.value.toLocaleString() : item.value}
                  </div>
                </div>
              );
            })}
          </div>
        </div>
      )}
    </div>
  );
};

export default SimpleChart;

```

### admin\src\pages\Add.jsx
```jsx
import React, { useState } from 'react'
import { assets } from '../assets/assets'
import axios from 'axios'
import {backendUrl} from '../App'
import {toast} from 'react-toastify'

const Add = ({token}) => {

  const [image1,setImage1] = useState(false)
  const [image2,setImage2] = useState(false)
  const [image3,setImage3] = useState(false)
  const [image4,setImage4] = useState(false)

  const [name , setName] = useState("");
  const [description , setDescription] = useState("");
  const [price , setPrice] = useState("");
  const [category , setCategory] = useState("Yonex");
  const [subCategory , setSubCategory] = useState("Attack");
  const [bestseller , setBestseller] = useState(false);
  const [sizes, setSizes] = useState([]);

  const onSubmitHandler = async(e) => {
    e.preventDefault();

    try {

      const formData = new FormData();

      formData.append("name",name);
      formData.append("description",description);
      formData.append("price",price);
      formData.append("category",category);
      formData.append("subCategory",subCategory);
      formData.append("bestseller",bestseller);
      formData.append("sizes",JSON.stringify(sizes));

      image1 && formData.append("image1",image1);
      image2 && formData.append("image2",image2);
      image3 && formData.append("image3",image3);
      image4 && formData.append("image4",image4);

      const response = await axios.post(backendUrl + "/api/product/add",formData,{headers:{token}});
      
      if(response.data.success){
        toast.success(response.data.message);
        setName('');
        setDescription('');
        setImage1(false);
        setImage2(false);
        setImage3(false);
        setImage4(false);
        setPrice('');
      } else {
        toast.error(response.data.message);
      }

    } catch (error) {
      console.log(error);
      toast.error(error.message);
    }
  }

  return (
    <div>
        <form onSubmit={onSubmitHandler} className='flex flex-col w-full items-start gap-3'>
            <div>
              <p className='mb-2'>Tải lên hình ảnh</p>

              <div className='flex gap-2'>
                <label htmlFor="image1">
                  <img className='w-20 cursor-pointer' src={!image1 ? assets.upload_area : URL.createObjectURL(image1)} alt="" />
                  <input onChange={(e) => setImage1(e.target.files[0])} type="file" id="image1" hidden />
                </label>
                <label htmlFor="image2">
                  <img className='w-20 cursor-pointer' src={!image2 ? assets.upload_area : URL.createObjectURL(image2)} alt="" />
                  <input onChange={(e) => setImage2(e.target.files[0])} type="file" id="image2" hidden />
                </label>
                <label htmlFor="image3">
                  <img className='w-20 cursor-pointer' src={!image3 ? assets.upload_area : URL.createObjectURL(image3)} alt="" />
                  <input onChange={(e) => setImage3(e.target.files[0])} type="file" id="image3" hidden />
                </label>
                <label htmlFor="image4">
                  <img className='w-20 cursor-pointer' src={!image4 ? assets.upload_area : URL.createObjectURL(image4)} alt="" />
                  <input onChange={(e) => setImage4(e.target.files[0])} type="file" id="image4" hidden />
                </label>
              </div>
            </div>

            <div className='w-full'>
              <p className='mb-2'>Tên sản phẩm</p>
              <input onChange={(e) => setName(e.target.value)} value={name} className='w-full max-w-[500px] px-3 py-2' type="text" placeholder='Nhập tên sản phẩm' required />
            </div>

            <div className='w-full'>
              <p className='mb-2'>Mô tả sản phẩm</p>
              <textarea onChange={(e) => setDescription(e.target.value)} value={description} className='w-full max-w-[500px] px-3 py-2' type="text" placeholder='Nhập nội dung mô tả sản phẩm' required />
            </div>

            <div className='flex flex-col sm:flex-row gap-2 w-full sm:gap-8'>

                <div>
                  <p className='mb-2'>Thương hiệu</p>
                  <select onChange={(e) => setCategory(e.target.value)}  className='w-full px-3 py-2 '>
                      <option value="Yonex">Yonex</option>
                      <option value="Victor">Victor</option>
                      <option value="Lining">Lining</option>
                  </select>
                </div>

                 <div>
                  <p className='mb-2'>Phong cách chơi</p>
                  <select onChange={(e) => setSubCategory(e.target.value)} className='w-full px-3 py-2 '>
                      <option value="Attack">Tấn công</option>
                      <option value="Defense">Phòng thủ , phản tạt</option>
                      <option value="Balance">Công thủ toàn diện</option>
                  </select>
                </div>

                <div>
                  <p className='mb-2'>Giá sản phẩm</p>
                  <input onChange={(e) => setPrice(e.target.value)} value={price} className='w-full px-3 py-2 sm:w-[120px]' type="Number" placeholder='...đ' />
                </div>

            </div>

            <div>
              <p className='mb-2'>Trọng lượng sản phẩm</p>
              <div className='flex gap-3'>
                <div onClick={() => setSizes(prev =>prev.includes("3U") ? prev.filter(item => item !== "3U") : [...prev, "3U"])}>
                  <p className={`${sizes.includes("3U") ? "bg-orange-200" : "bg-slate-200"} px-3 py-1 cursor-pointer`}>3U</p>
                </div>

                <div onClick={() => setSizes(prev =>prev.includes("4U") ? prev.filter(item => item !== "4U") : [...prev, "4U"])}>
                  <p className={`${sizes.includes("4U") ? "bg-orange-200" : "bg-slate-200"} px-3 py-1 cursor-pointer`}>4U</p>
                </div>

                <div onClick={() => setSizes(prev =>prev.includes("5U") ? prev.filter(item => item !== "5U") : [...prev, "5U"])}>
                  <p className={`${sizes.includes("5U") ? "bg-orange-200" : "bg-slate-200"} px-3 py-1 cursor-pointer`}>5U</p>
                </div>
              </div>
            </div>

            <div className='flex gap-2 mt-2'>
              <input onChange={() => setBestseller(prev => !prev)} checked={bestseller} type="checkbox" id='bestseller' />
              <label className='cursor-pointer' htmlFor="bestseller">Thêm vào danh sách bán chạy nhất</label>
            </div>

            <button type='submit' className='w-28 py-3 mt-4 bg-black text-white cursor-pointer'>Thêm</button>

        </form>
    </div>
  )
}

export default Add
```

### admin\src\pages\Dashboard.jsx
```jsx
import React, { useState, useEffect } from "react";
import { backendUrl } from "../App";
import { toast } from "react-toastify";
import axios from "axios";
import { Link } from "react-router-dom";

const Dashboard = ({ token }) => {
  const [stats, setStats] = useState({});
  const [loading, setLoading] = useState(true);

  const fetchStats = async () => {
    try {
      const response = await axios.get(`${backendUrl}/api/statistics/overview`, {
        headers: { token },
      });
      if (response.data.success) {
        setStats(response.data.data);
      }
    } catch (error) {
      toast.error("Lỗi khi tải thống kê");
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    fetchStats();
  }, []);

  const formatCurrency = (amount) => {
    return new Intl.NumberFormat("vi-VN").format(amount) + " đ";
  };

  if (loading) {
    return (
      <div className="flex justify-center items-center h-64">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="p-6">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-gray-800">Dashboard</h1>
        <p className="text-gray-600 mt-2">Tổng quan hệ thống TLookShop</p>
      </div>

      {/* Quick Stats */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div className="bg-blue-500 bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-lg shadow-lg">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-blue-100 text-sm">Tổng doanh thu</p>
              <p className="text-2xl font-bold">{formatCurrency(stats.totalRevenue || 0)}</p>
            </div>
            <div className="text-blue-200">
              <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z" />
                <path
                  fillRule="evenodd"
                  d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"
                  clipRule="evenodd"
                />
              </svg>
            </div>
          </div>
        </div>

        <div className="bg-green-500 bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-lg shadow-lg">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-green-100 text-sm">Tổng đơn hàng</p>
              <p className="text-2xl font-bold">{stats.totalOrders || 0}</p>
            </div>
            <div className="text-green-200">
              <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                <path fillRule="evenodd" d="M10 2L3 7v11a2 2 0 002 2h10a2 2 0 002-2V7l-7-5z" clipRule="evenodd" />
              </svg>
            </div>
          </div>
        </div>

        <div className="bg-purple-500 bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-lg shadow-lg">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-purple-100 text-sm">Tổng khách hàng</p>
              <p className="text-2xl font-bold">{stats.totalUsers || 0}</p>
            </div>
            <div className="text-purple-200">
              <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" />
              </svg>
            </div>
          </div>
        </div>

        <div className="bg-orange-500 bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-lg shadow-lg">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-orange-100 text-sm">Tổng sản phẩm</p>
              <p className="text-2xl font-bold">{stats.totalProducts || 0}</p>
            </div>
            <div className="text-orange-200">
              <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                <path
                  fillRule="evenodd"
                  d="M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z"
                  clipRule="evenodd"
                />
              </svg>
            </div>
          </div>
        </div>
      </div>

      {/* Order Status */}
      <div className="bg-white p-6 rounded-lg shadow-md mb-8">
        <h3 className="text-lg font-semibold text-gray-800 mb-4">Trạng thái đơn hàng</h3>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          {stats.ordersByStatus?.map((status, index) => (
            <div key={index} className="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
              <span className="text-sm font-medium text-gray-700">{status._id}</span>
              <span className="text-lg font-bold text-blue-600">{status.count}</span>
            </div>
          ))}
        </div>
      </div>

      {/* Quick Actions */}
      <div className="bg-white p-6 rounded-lg shadow-md">
        <h3 className="text-lg font-semibold text-gray-800 mb-4">Thao tác nhanh</h3>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
          <Link
            to="/add"
            className="flex items-center justify-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors"
          >
            <div className="text-center">
              <div className="w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mx-auto mb-2">
                <svg className="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                </svg>
              </div>
              <p className="text-sm font-medium text-gray-700">Thêm sản phẩm</p>
            </div>
          </Link>

          <Link
            to="/list"
            className="flex items-center justify-center p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors"
          >
            <div className="text-center">
              <div className="w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mx-auto mb-2">
                <svg className="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    strokeWidth={2}
                    d="M4 6h16M4 10h16M4 14h16M4 18h16"
                  />
                </svg>
              </div>
              <p className="text-sm font-medium text-gray-700">Danh sách sản phẩm</p>
            </div>
          </Link>

          <Link
            to="/orders"
            className="flex items-center justify-center p-4 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors"
          >
            <div className="text-center">
              <div className="w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center mx-auto mb-2">
                <svg className="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    strokeWidth={2}
                    d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"
                  />
                </svg>
              </div>
              <p className="text-sm font-medium text-gray-700">Quản lý đơn hàng</p>
            </div>
          </Link>

          <Link
            to="/statistics"
            className="flex items-center justify-center p-4 bg-orange-50 hover:bg-orange-100 rounded-lg transition-colors"
          >
            <div className="text-center">
              <div className="w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center mx-auto mb-2">
                <svg className="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    strokeWidth={2}
                    d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                  />
                </svg>
              </div>
              <p className="text-sm font-medium text-gray-700">Thống kê chi tiết</p>
            </div>
          </Link>
        </div>
      </div>
    </div>
  );
};

export default Dashboard;

```

### admin\src\pages\List.jsx
```jsx
import axios from "axios";
import React, { useState, useEffect } from "react";
import { backendUrl, currency } from "../App";
import { toast } from "react-toastify";
import { assets } from "../assets/assets";
import ConfirmModal from "../components/ConfirmModal";

const List = ({ token }) => {
  const [list, setList] = useState([]);
  const [filteredList, setFilteredList] = useState([]);
  const [searchTerm, setSearchTerm] = useState("");
  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage] = useState(10);
  const [showModal, setShowModal] = useState(false);
  const [productToDelete, setProductToDelete] = useState(null);

  const fetchList = async () => {
    try {
      const repsonse = await axios.get(backendUrl + "/api/product/list");
      if (repsonse.data.success) {
        const sortedProducts = repsonse.data.products.sort(
          (a, b) => new Date(b.createdAt || b.date) - new Date(a.createdAt || a.date)
        );
        setList(sortedProducts);
        setFilteredList(sortedProducts);
      } else {
        toast.error(repsonse.data.message);
      }
    } catch (error) {
      console.log(error);
      toast.error(error.message);
    }
  };

  const removeProduct = async (id) => {
    try {
      const response = await axios.post(backendUrl + "/api/product/remove", { id }, { headers: { token } });
      if (response.data.success) {
        toast.success(response.data.message);
        await fetchList();
        setShowModal(false);
        setProductToDelete(null);
      } else {
        toast.error(response.data.message);
      }
    } catch (error) {
      console.log(error);
      toast.error(error.message);
    }
  };

  const handleDeleteClick = (product) => {
    setProductToDelete(product);
    setShowModal(true);
  };

  const handleConfirmDelete = () => {
    if (productToDelete) {
      removeProduct(productToDelete._id);
    }
  };

  const handleCancelDelete = () => {
    setShowModal(false);
    setProductToDelete(null);
  };

  const handleSearch = (searchValue) => {
    setSearchTerm(searchValue);
    setCurrentPage(1);

    if (searchValue.trim() === "") {
      setFilteredList(list);
    } else {
      const filtered = list.filter(
        (item) =>
          item.name.toLowerCase().includes(searchValue.toLowerCase()) ||
          item.category.toLowerCase().includes(searchValue.toLowerCase())
      );
      setFilteredList(filtered);
    }
  };

  const indexOfLastItem = currentPage * itemsPerPage;
  const indexOfFirstItem = indexOfLastItem - itemsPerPage;
  const currentItems = filteredList.slice(indexOfFirstItem, indexOfLastItem);

  const totalPages = Math.ceil(filteredList.length / itemsPerPage);

  const paginate = (pageNumber) => setCurrentPage(pageNumber);

  const goToPreviousPage = () => {
    if (currentPage > 1) {
      setCurrentPage(currentPage - 1);
    }
  };

  const goToNextPage = () => {
    if (currentPage < totalPages) {
      setCurrentPage(currentPage + 1);
    }
  };

  const getPageNumbers = () => {
    const pageNumbers = [];
    const maxVisiblePages = 5;

    if (totalPages <= maxVisiblePages) {
      for (let i = 1; i <= totalPages; i++) {
        pageNumbers.push(i);
      }
    } else {
      if (currentPage <= 3) {
        for (let i = 1; i <= 5; i++) {
          pageNumbers.push(i);
        }
      } else if (currentPage >= totalPages - 2) {
        for (let i = totalPages - 4; i <= totalPages; i++) {
          pageNumbers.push(i);
        }
      } else {
        for (let i = currentPage - 2; i <= currentPage + 2; i++) {
          pageNumbers.push(i);
        }
      }
    }

    return pageNumbers;
  };

  useEffect(() => {
    fetchList();
  }, []);

  return (
    <>
      <p className="text-2xl font-bold text-gray-800 mb-4 text-center">Danh sách tất cả sản phẩm</p>

      <div className="mb-4 flex flex-col sm:flex-row gap-4 items-center justify-between">
        <div className="relative flex-1 max-w-md">
          <input
            type="text"
            placeholder="Tìm kiếm sản phẩm theo tên hoặc hãng..."
            value={searchTerm}
            onChange={(e) => handleSearch(e.target.value)}
            className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          />
          <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg className="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth={2}
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              />
            </svg>
          </div>
        </div>
        <div className="text-sm text-gray-600">Danh sách có {filteredList.length} sản phẩm</div>
      </div>

      <div className="flex flex-col gap-2">
        <div className="hidden md:grid grid-cols-[1fr_3fr_1fr_1fr_1fr] items-center border border-gray-300 py-1 px-2 bg-gray-100 text-sm">
          <b>Hình ảnh</b>
          <b>Tên</b>
          <b>Hãng</b>
          <b>Giá</b>
          <b className="text-center">Thao tác</b>
        </div>

        {currentItems.length > 0 ? (
          currentItems.map((item, index) => (
            <div
              className="grid grid-cols-[1fr_3fr_1fr] md:grid-cols-[1fr_3fr_1fr_1fr_1fr] items-center border border-gray-300 text-sm gap-2 py-1 px-2 hover:bg-gray-100 transition ease-in-out"
              key={index}
            >
              <img className="w-20" src={item.image[0]} alt="" />
              <p className="text-orange-600">{item.name}</p>
              <p className="text-blue-600">{item.category}</p>
              <p className="text-red-600">
                {item.price.toLocaleString("vi-VN")}
                {currency}
              </p>
              <p
                onClick={() => handleDeleteClick(item)}
                className="text-right md:text-center cursor-pointer text-lg flex justify-center "
              >
                <img
                  className="w-10 hover:bg-gray-300 p-2 rounded-[9999px] transition ease-in-out"
                  src={assets.delete_icon}
                  alt=""
                />
              </p>
            </div>
          ))
        ) : (
          <div className="text-center py-8 text-gray-500">
            {searchTerm ? "Không tìm thấy sản phẩm nào" : "Chưa có sản phẩm nào"}
          </div>
        )}
      </div>

      {totalPages > 1 && (
        <div className="flex flex-col sm:flex-row justify-between items-center mt-6 gap-4">
          <div className="text-sm text-gray-600">
            Hiển thị {indexOfFirstItem + 1} - {Math.min(indexOfLastItem, filteredList.length)} trên{" "}
            {filteredList.length} sản phẩm
          </div>

          <div className="flex items-center gap-2">
            <button
              onClick={goToPreviousPage}
              disabled={currentPage === 1}
              className={`px-3 py-1 rounded-lg text-sm font-medium transition ${
                currentPage === 1
                  ? "bg-gray-200 text-gray-400 cursor-not-allowed"
                  : "bg-blue-500 text-white hover:bg-blue-600"
              }`}
            >
              Trước
            </button>

            {getPageNumbers().map((pageNumber) => (
              <button
                key={pageNumber}
                onClick={() => paginate(pageNumber)}
                className={`px-3 py-1 rounded-lg text-sm font-medium transition ${
                  currentPage === pageNumber ? "bg-blue-500 text-white" : "bg-gray-200 text-gray-700 hover:bg-gray-300"
                }`}
              >
                {pageNumber}
              </button>
            ))}

            <button
              onClick={goToNextPage}
              disabled={currentPage === totalPages}
              className={`px-3 py-1 rounded-lg text-sm font-medium transition ${
                currentPage === totalPages
                  ? "bg-gray-200 text-gray-400 cursor-not-allowed"
                  : "bg-blue-500 text-white hover:bg-blue-600"
              }`}
            >
              Tiếp
            </button>
          </div>
        </div>
      )}

      <ConfirmModal
        isOpen={showModal}
        onClose={handleCancelDelete}
        onConfirm={handleConfirmDelete}
        title="Xác nhận xóa sản phẩm"
        message={`Bạn có chắc chắn muốn xóa sản phẩm "${productToDelete?.name}" không?`}
        confirmText="Xóa"
        cancelText="Hủy"
      />
    </>
  );
};

export default List;

```

### admin\src\pages\Orders.jsx
```jsx
import React from 'react'
import { useEffect } from 'react'
import { useState } from 'react'
import axios from 'axios'
import {backendUrl, currency} from '../App'
import {toast} from 'react-toastify'
import { assets } from '../assets/assets'

const Orders = ({token}) => {

  const [orders, setOrders] = useState([])
  const [currentPage, setCurrentPage] = useState(1)
  const ordersPerPage = 5

  const fetchAllOrders = async () => {
    if(!token){
        return null;
    }

    try {
      const response = await axios.post(backendUrl + '/api/order/list',{},{headers:{token}});
      if(response.data.success){
        setOrders(response.data.orders.reverse())
      }
      else {
        toast.error(response.data.message)
      }
      
    } catch (error) {
      toast.error(error.message)
    }
  }

  const statusHandler = async ( event , orderId ) => {
    try {
      const response = await axios.post(backendUrl + '/api/order/status' , {orderId , status: event.target.value} , {headers:{token}});
      if(response.data.success){
        await fetchAllOrders();
      }
    
    } catch (error) {
      console.log(error);
      toast.error(error.message || 'Có lỗi xảy ra khi cập nhật trạng thái đơn hàng');
    }
  }

  useEffect(() =>{
    fetchAllOrders()
  // eslint-disable-next-line react-hooks/exhaustive-deps
  },[token])

  // Tính toán các đơn hàng hiển thị theo trang
  const indexOfLastOrder = currentPage * ordersPerPage;
  const indexOfFirstOrder = indexOfLastOrder - ordersPerPage;
  const currentOrders = orders.slice(indexOfFirstOrder, indexOfLastOrder);
  const totalPages = Math.ceil(orders.length / ordersPerPage);

  // Hàm chuyển trang
  const paginate = (pageNumber) => {
    setCurrentPage(pageNumber);
  };

  const goToNextPage = () => {
    if (currentPage < totalPages) {
      setCurrentPage(currentPage + 1);
    }
  };

  const goToPrevPage = () => {
    if (currentPage > 1) {
      setCurrentPage(currentPage - 1);
    }
  };


  return (
    <div className="bg-gray-50 min-h-screen p-4">
      <div className="max-w-7xl mx-auto">
        {/* Header */}
        <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
          <div className="flex items-center justify-between">
            <div>
              <h1 className="text-3xl font-bold text-gray-900 flex items-center">
                <svg className="w-8 h-8 mr-3 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                  <path fillRule="evenodd" d="M10 2L3 7v11a1 1 0 001 1h3a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1h3a1 1 0 001-1V7l-7-5z" clipRule="evenodd"/>
                </svg>
                Quản lý đơn hàng
              </h1>
              <p className="text-gray-600 mt-1">Theo dõi và xử lý tất cả đơn hàng của khách hàng</p>
            </div>
            <div className="text-right">
              <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <p className="text-blue-800 font-semibold text-lg">{orders.length}</p>
                <p className="text-blue-600 text-sm">Tổng đơn hàng</p>
              </div>
            </div>
          </div>
        </div>

        {/* Stats và Pagination Info */}
        <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6">
          <div className="flex flex-wrap items-center justify-between">
            <div className="flex items-center space-x-4">
              <span className="text-gray-600">Hiển thị</span>
              <span className="font-semibold text-blue-600">{indexOfFirstOrder + 1} - {Math.min(indexOfLastOrder, orders.length)}</span>
              <span className="text-gray-600">trên</span>
              <span className="font-semibold text-blue-600">{orders.length}</span>
              <span className="text-gray-600">đơn hàng</span>
            </div>
            <div className="text-sm text-gray-500">
              Trang {currentPage} / {totalPages}
            </div>
          </div>
        </div>
        <div className="space-y-4">
          {
            currentOrders.map((order,index)=>(
              <div className='bg-white border border-gray-200 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden' key={index}>
                {/* Header với Order ID và Status */}
                <div className="bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                  <div className="flex items-center space-x-3">
                    <div className="bg-blue-100 p-2 rounded-lg">
                      <img className='w-6 h-6' src={assets.parcel_icon} alt="" />
                    </div>
                    <div>
                      <h4 className="font-semibold text-gray-800">Đơn hàng #{order._id.slice(-8)}</h4>
                      <p className="text-sm text-gray-500">{new Date(order.createdAt).toLocaleDateString('vi-VN')} - {new Date(order.createdAt).toLocaleTimeString('vi-VN', {hour: '2-digit', minute: '2-digit'})}</p>
                    </div>
                  </div>
                  <div className="flex items-center space-x-3">
                    <span className="text-lg font-bold text-orange-600">{order.amount.toLocaleString('vi-VN')}{currency}</span>
                    <select onChange = {(event) => statusHandler(event , order._id)} value={order.status} 
                      className={`px-3 py-2 rounded-lg font-medium cursor-pointer border-0 focus:ring-2 focus:ring-blue-400 ${
                        order.status === 'Đã giao hàng' ? 'bg-green-100 text-green-800' :
                        order.status === 'Đang giao hàng' ? 'bg-blue-100 text-blue-800' :
                        order.status === 'Đang đóng gói' ? 'bg-yellow-100 text-yellow-800' :
                        'bg-gray-100 text-gray-800'
                      }`}>
                        <option value="Đã đặt hàng">Đã đặt hàng</option>
                        <option value="Đang đóng gói">Đang đóng gói</option>
                        <option value="Đang giao hàng">Đang giao hàng</option>
                        <option value="Đã giao hàng">Đã giao hàng</option>
                    </select>
                  </div>
                </div>

                {/* Main Content */}
                <div className="p-6 grid grid-cols-1 lg:grid-cols-3 gap-6">
                  {/* Thông tin sản phẩm */}
                  <div className="lg:col-span-1">
                    <h5 className="font-semibold text-gray-800 mb-3 flex items-center">
                      <span className="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm mr-2">
                        {order.items.length} sản phẩm
                      </span>
                      Chi tiết đơn hàng
                    </h5>
                    <div className="space-y-2 max-h-32 overflow-y-auto bg-gray-50 p-3 rounded-lg">
                      {order.items.map((item,index)=>(
                        <div key={index} className="flex justify-between items-center text-sm border-b border-gray-200 pb-1 last:border-b-0">
                          <span className="text-gray-700 font-medium">{item.name}</span>
                          <span className="text-gray-600">x{item.quantity} ({item.size})</span>
                        </div>
                      ))}
                    </div>
                  </div>

                  {/* Thông tin khách hàng */}
                  <div className="lg:col-span-1">
                    <h5 className="font-semibold text-gray-800 mb-3 flex items-center">
                      <svg className="w-4 h-4 mr-2 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                        <path fillRule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clipRule="evenodd"/>
                      </svg>
                      Thông tin khách hàng
                    </h5>
                    <div className="space-y-2 text-sm">
                      <div className="flex items-start">
                        <span className="font-medium text-gray-600 w-20">Tên:</span>
                        <span className="text-gray-800 font-medium">{order.address.firstName + " " + order.address.lastName}</span>
                      </div>
                      <div className="flex items-start">
                        <span className="font-medium text-gray-600 w-20">Địa chỉ:</span>
                        <span className="text-gray-700 flex-1">
                          {order.address.street}<br/>
                          {order.address.city}, {order.address.state}<br/>
                          {order.address.country}, {order.address.zipcode}
                        </span>
                      </div>
                      <div className="flex items-center">
                        <span className="font-medium text-gray-600 w-20">SĐT:</span>
                        <span className="text-gray-800">{order.address.phone}</span>
                      </div>
                    </div>
                  </div>

                  {/* Thông tin thanh toán */}
                  <div className="lg:col-span-1">
                    <h5 className="font-semibold text-gray-800 mb-3 flex items-center">
                      <svg className="w-4 h-4 mr-2 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4zM18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"/>
                      </svg>
                      Thanh toán
                    </h5>
                    <div className="space-y-3">
                      <div className="bg-gray-50 p-3 rounded-lg">
                        <div className="flex justify-between items-center mb-2">
                          <span className="text-sm text-gray-600">Phương thức:</span>
                          <span className="font-medium text-gray-800 bg-white px-2 py-1 rounded text-sm">
                            {order.paymentMethod}
                          </span>
                        </div>
                        <div className="flex justify-between items-center">
                          <span className="text-sm text-gray-600">Trạng thái:</span>
                          <span className={`px-3 py-1 rounded-full text-sm font-medium ${
                            order.payment 
                              ? 'bg-green-100 text-green-800 border border-green-200' 
                              : 'bg-red-100 text-red-800 border border-red-200'
                          }`}>
                            {order.payment ? '✓ Đã thanh toán' : '✗ Chưa thanh toán'}
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            ))
          }
        </div>
        {/* Phân trang */}
        {totalPages > 1 && (
          <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mt-6">
            <div className="flex justify-center items-center">
              <div className="flex items-center space-x-2">
                {/* Nút Previous */}
                <button
                  onClick={goToPrevPage}
                  disabled={currentPage === 1}
                  className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                    currentPage === 1
                      ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
                      : 'bg-blue-500 text-white hover:bg-blue-600 shadow-md'
                  }`}
                >
                  ← Trước
                </button>

                {/* Số trang */}
                <div className="flex space-x-1">
                  {Array.from({ length: totalPages }, (_, i) => i + 1).map((number) => (
                    <button
                      key={number}
                      onClick={() => paginate(number)}
                      className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                        currentPage === number
                          ? 'bg-blue-500 text-white shadow-md'
                          : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                      }`}
                    >
                      {number}
                    </button>
                  ))}
                </div>

                {/* Nút Next */}
                <button
                  onClick={goToNextPage}
                  disabled={currentPage === totalPages}
                  className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                    currentPage === totalPages
                      ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
                      : 'bg-blue-500 text-white hover:bg-blue-600 shadow-md'
                  }`}
                >
                  Sau →
                </button>
              </div>
            </div>
          </div>
        )}
      </div>
    </div>
  )
}

export default Orders
```

### admin\src\pages\Statistics.jsx
```jsx
import React, { useState, useEffect, useCallback } from "react";
import { backendUrl } from "../App";
import { toast } from "react-toastify";
import axios from "axios";
import SimpleChart from "../components/SimpleChart";

const Statistics = ({ token }) => {
  const [overallStats, setOverallStats] = useState({});
  const [revenueStats, setRevenueStats] = useState([]);
  const [topProducts, setTopProducts] = useState([]);
  const [orderStats, setOrderStats] = useState({});
  const [productStats, setProductStats] = useState({});
  const [loading, setLoading] = useState(true);
  const [selectedPeriod, setSelectedPeriod] = useState("month");
  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());
  const [selectedMonth, setSelectedMonth] = useState(new Date().getMonth() + 1);

  // Fetch overall statistics
  const fetchOverallStats = useCallback(async () => {
    try {
      const response = await axios.get(`${backendUrl}/api/statistics/overview`, {
        headers: { token },
      });
      if (response.data.success) {
        setOverallStats(response.data.data);
      }
    } catch (error) {
      console.log(error);
      toast.error("Lỗi khi tải thống kê tổng quan");
    }
  }, [token]);

  // Fetch revenue statistics
  const fetchRevenueStats = useCallback(async () => {
    try {
      let url = `${backendUrl}/api/statistics/revenue?period=${selectedPeriod}&year=${selectedYear}`;
      if (selectedPeriod === "day") {
        url += `&month=${selectedMonth}`;
      }

      const response = await axios.get(url, {
        headers: { token },
      });
      if (response.data.success) {
        setRevenueStats(response.data.data);
      }
    } catch (error) {
      console.log(error);
      toast.error("Lỗi khi tải thống kê doanh thu");
    }
  }, [selectedPeriod, selectedYear, selectedMonth, token]);

  // Fetch top products
  const fetchTopProducts = useCallback(async () => {
    try {
      const response = await axios.get(`${backendUrl}/api/statistics/top-products?limit=5`, {
        headers: { token },
      });
      if (response.data.success) {
        setTopProducts(response.data.data);
      }
    } catch (error) {
      console.log(error);
      toast.error("Lỗi khi tải sản phẩm bán chạy");
    }
  }, [token]);

  // Fetch order statistics
  const fetchOrderStats = useCallback(async () => {
    try {
      let url = `${backendUrl}/api/statistics/orders?period=${selectedPeriod}&year=${selectedYear}`;
      if (selectedPeriod === "day") {
        url += `&month=${selectedMonth}`;
      }

      const response = await axios.get(url, {
        headers: { token },
      });
      if (response.data.success) {
        setOrderStats(response.data.data);
      }
    } catch (error) {
      console.log(error);
      toast.error("Lỗi khi tải thống kê đơn hàng");
    }
  }, [selectedPeriod, selectedYear, selectedMonth, token]);
  
  // Fetch product statistics
  const fetchProductStats = useCallback(async () => {
    try {
      const response = await axios.get(`${backendUrl}/api/statistics/products`, {
        headers: { token },
      });
      if (response.data.success) {
        setProductStats(response.data.data);
      }
    } catch (error) {
      console.log(error);
      toast.error("Lỗi khi tải thống kê sản phẩm");
    }
  }, [token]);

  // Load all statistics
  const loadAllStats = useCallback(async () => {
    setLoading(true);
    await Promise.all([
      fetchOverallStats(),
      fetchRevenueStats(),
      fetchTopProducts(),
      fetchOrderStats(),
      fetchProductStats(),
    ]);
    setLoading(false);
  }, [fetchOverallStats, fetchRevenueStats, fetchTopProducts, fetchOrderStats, fetchProductStats]);

  useEffect(() => {
    loadAllStats();
  }, [loadAllStats]);

  // Format currency
  const formatCurrency = (amount) => {
    return new Intl.NumberFormat("vi-VN").format(amount) + " đ";
  };

  // Get period label
  const getPeriodLabel = (id) => {
    if (selectedPeriod === "day") {
      return `Ngày ${id}`;
    } else if (selectedPeriod === "month") {
      return `Tháng ${id}`;
    } else {
      return `Năm ${id}`;
    }
  };

  if (loading) {
    return (
      <div className="flex justify-center items-center h-64">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      </div>
    );
  }

  return (
    <div className="p-6 max-w-7xl mx-auto">
      <h1 className="text-3xl font-bold text-gray-800 mb-8">Thống kê & Báo cáo</h1>

      {/* Time Period Selector */}
      <div className="mb-8 bg-white p-4 rounded-lg shadow-md">
        <div className="flex flex-wrap gap-4 items-center">
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-1">Thời gian</label>
            <select
              value={selectedPeriod}
              onChange={(e) => setSelectedPeriod(e.target.value)}
              className="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
              <option value="year">Theo năm</option>
              <option value="month">Theo tháng</option>
              <option value="day">Theo ngày</option>
            </select>
          </div>

          <div>
            <label className="block text-sm font-medium text-gray-700 mb-1">Năm</label>
            <select
              value={selectedYear}
              onChange={(e) => setSelectedYear(parseInt(e.target.value))}
              className="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
            >
              {Array.from({ length: 5 }, (_, i) => new Date().getFullYear() - i).map((year) => (
                <option key={year} value={year}>
                  {year}
                </option>
              ))}
            </select>
          </div>

          {selectedPeriod === "day" && (
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-1">Tháng</label>
              <select
                value={selectedMonth}
                onChange={(e) => setSelectedMonth(parseInt(e.target.value))}
                className="border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
              >
                {Array.from({ length: 12 }, (_, i) => i + 1).map((month) => (
                  <option key={month} value={month}>
                    Tháng {month}
                  </option>
                ))}
              </select>
            </div>
          )}
        </div>
      </div>

      {/* Overall Statistics Cards */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div className="bg-blue-500 bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6 rounded-lg shadow-md">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-blue-100 text-sm">Tổng doanh thu</p>
              <p className="text-2xl font-bold">{formatCurrency(overallStats.totalRevenue || 0)}</p>
            </div>
            <div className="text-blue-200">
              <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z" />
                <path
                  fillRule="evenodd"
                  d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"
                  clipRule="evenodd"
                />
              </svg>
            </div>
          </div>
        </div>

        <div className="bg-green-500 bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-lg shadow-md">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-green-100 text-sm">Tổng đơn hàng</p>
              <p className="text-2xl font-bold">{overallStats.totalOrders || 0}</p>
            </div>
            <div className="text-green-200">
              <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                <path
                  fillRule="evenodd"
                  d="M10 2L3 7v11a2 2 0 002 2h10a2 2 0 002-2V7l-7-5zM8 8a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"
                  clipRule="evenodd"
                />
              </svg>
            </div>
          </div>
        </div>

        <div className="bg-purple-500 bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6 rounded-lg shadow-md">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-purple-100 text-sm">Tổng khách hàng</p>
              <p className="text-2xl font-bold">{overallStats.totalUsers || 0}</p>
            </div>
            <div className="text-purple-200">
              <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z" />
              </svg>
            </div>
          </div>
        </div>

        <div className="bg-orange-500 bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-lg shadow-md">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-orange-100 text-sm">Tổng sản phẩm</p>
              <p className="text-2xl font-bold">{overallStats.totalProducts || 0}</p>
            </div>
            <div className="text-orange-200">
              <svg className="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
                <path
                  fillRule="evenodd"
                  d="M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z"
                  clipRule="evenodd"
                />
              </svg>
            </div>
          </div>
        </div>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
        {/* Revenue Chart */}
        <SimpleChart
          data={revenueStats.map((item) => ({
            label: getPeriodLabel(item._id),
            value: item.revenue,
          }))}
          title="Doanh thu theo thời gian"
          type="bar"
        />

        {/* Top Products */}
        <SimpleChart
          data={topProducts.map((product, index) => ({
            label: `${index + 1}. ${product.productName}`,
            value: product.totalQuantity,
          }))}
          title="Top sản phẩm bán chạy"
          type="line"
        />
      
        {/* Payment Methods */}
        <SimpleChart
          data={
            orderStats.ordersByPaymentMethod?.map((method) => ({
              label: method._id,
              value: method.count,
            })) || []
          }
          title="Phương thức thanh toán"
          type="pie"
        />

        {/* Product Categories */}
        <SimpleChart
          data={
            productStats.productsByCategory?.map((category) => ({
              label: category._id,
              value: category.count,
            })) || []
          }
          title="Sản phẩm theo danh mục"
          type="bar"
        />
       
      </div>
    </div>
  );
};

export default Statistics;

```

### admin\src\pages\Users.jsx
```jsx
import React, { useState, useEffect } from "react";
import axios from "axios";
import { backendUrl } from "../App";
import { toast } from "react-toastify";

const Users = ({ token }) => {
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(false);
  const [pagination, setPagination] = useState({
    total: 0,
    page: 1,
    limit: 5,
    totalPages: 0,
  });
  const [search, setSearch] = useState("");
  const [showEditModal, setShowEditModal] = useState(false);
  const [showAddModal, setShowAddModal] = useState(false);
  const [editingUser, setEditingUser] = useState(null);
  const [editForm, setEditForm] = useState({
    name: "",
    email: "",
    phone_number: "",
    gender: "",
    address: "",
    role: "customer",
  });
  const [addForm, setAddForm] = useState({
    name: "",
    email: "",
    password: "",
    phone_number: "",
    gender: "",
    address: "",
    role: "user",
  });

  // Lấy danh sách người dùng
  const fetchUsers = async (page = 1, searchTerm = "") => {
    try {
      setLoading(true);
      const response = await axios.get(`${backendUrl}/api/user/admin/users`, {
        headers: { token },
        params: {
          page,
          limit: pagination.limit,
          search: searchTerm,
        },
      });

      if (response.data.success) {
        setUsers(response.data.users);
        setPagination(response.data.pagination);
      } else {
        toast.error(response.data.message);
      }
    } catch (error) {
      toast.error("Có lỗi xảy ra khi tải danh sách người dùng");
      console.error(error);
    } finally {
      setLoading(false);
    }
  };

  // Thêm người dùng mới
  const addUser = async (e) => {
    e.preventDefault();

    try {
      const response = await axios.post(`${backendUrl}/api/user/admin/users`, addForm, {
        headers: { token },
      });

      if (response.data.success) {
        toast.success(response.data.message);
        setShowAddModal(false);
        setAddForm({
          name: "",
          email: "",
          password: "",
          phone_number: "",
          gender: "",
          address: "",
          role: "user",
        });
        fetchUsers(pagination.page, search);
      } else {
        toast.error(response.data.message);
      }
    } catch (error) {
      toast.error("Có lỗi xảy ra khi tạo người dùng");
      console.error(error);
    }
  };

  // Xóa người dùng
  const deleteUser = async (userId, userName) => {
    if (!window.confirm(`Bạn có chắc chắn muốn xóa người dùng "${userName}"?`)) {
      return;
    }

    try {
      const response = await axios.delete(`${backendUrl}/api/user/admin/users/${userId}`, {
        headers: { token },
      });

      if (response.data.success) {
        toast.success(response.data.message);
        fetchUsers(pagination.page, search);
      } else {
        toast.error(response.data.message);
      }
    } catch (error) {
      toast.error("Có lỗi xảy ra khi xóa người dùng");
      console.error(error);
    }
  };

  // Mở modal thêm người dùng
  const openAddModal = () => {
    setAddForm({
      name: "",
      email: "",
      password: "",
      phone_number: "",
      gender: "",
      address: "",
      role: "user",
    });
    setShowAddModal(true);
  };

  // Mở modal chỉnh sửa
  const openEditModal = (user) => {
    setEditingUser(user);
    setEditForm({
      name: user.name || "",
      email: user.email || "",
      phone_number: user.phone_number || "",
      gender: user.gender || "",
      address: user.address || "",
      role: user.role || "customer",
    });
    setShowEditModal(true);
  };

  // Cập nhật người dùng
  const updateUser = async (e) => {
    e.preventDefault();

    try {
      const response = await axios.put(`${backendUrl}/api/user/admin/users/${editingUser._id}`, editForm, {
        headers: { token },
      });

      if (response.data.success) {
        toast.success(response.data.message);
        setShowEditModal(false);
        fetchUsers(pagination.page, search);
      } else {
        toast.error(response.data.message);
      }
    } catch (error) {
      toast.error("Có lỗi xảy ra khi cập nhật người dùng");
      console.error(error);
    }
  };

  // Tìm kiếm
  const handleSearch = (e) => {
    e.preventDefault();
    setPagination((prev) => ({ ...prev, page: 1 }));
    fetchUsers(1, search);
  };

  // Thay đổi trang
  const changePage = (newPage) => {
    setPagination((prev) => ({ ...prev, page: newPage }));
    fetchUsers(newPage, search);
  };

  // Định dạng ngày
  const formatDate = (dateString) => {
    return new Date(dateString).toLocaleDateString("vi-VN");
  };

  useEffect(() => {
    fetchUsers();
  }, []);

  return (
    <div className="p-6">
      <div className="mb-6">
        <h1 className="text-2xl font-bold text-gray-800 mb-4 text-center">Quản lý tài khoản khách hàng</h1>
        
        <div className="flex flex-col sm:flex-row gap-4 mb-4">
          <form onSubmit={handleSearch} className="flex gap-2 flex-1">
            <input
              type="text"
              placeholder="Tìm kiếm theo tên, email hoặc số điện thoại..."
              value={search}
              onChange={(e) => setSearch(e.target.value)}
              className="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
            <button
              type="submit"
              className="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors cursor-pointer"
            >
              Tìm kiếm
            </button>
          </form>
         
        </div>
     
        <div className="my-3">
           <button
            onClick={openAddModal}
            className="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors  cursor-pointer"
          >
            Thêm người dùng
          </button>
        </div>

        <div className="bg-white p-4 rounded-lg shadow mb-4">
          <p className="text-gray-600">
            Tổng số người dùng: <span className="font-semibold">{pagination.total}</span>
          </p>
        </div>
      </div>
   
      {/* Bảng người dùng */}
      <div className="bg-white rounded-lg shadow overflow-hidden">
        {loading ? (
          <div className="p-8 text-center">
            <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"></div>
            <p className="mt-2 text-gray-600">Đang tải...</p>
          </div>
        ) : (
          <>
            <div className="overflow-x-auto">
              <table className="w-full">
                <thead className="bg-gray-50">
                  <tr>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Tên
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Email
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Số điện thoại
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Vai trò
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Ngày tạo
                    </th>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Thao tác
                    </th>
                  </tr>
                </thead>
                <tbody className="bg-white divide-y divide-gray-200">
                  {users.length > 0 ? (
                    users.map((user) => (
                      <tr key={user._id} className="hover:bg-gray-50">
                        <td className="px-6 py-4 whitespace-nowrap">
                          <div className="text-sm font-medium text-gray-900">{user.name}</div>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap">
                          <div className="text-sm text-gray-900">{user.email}</div>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap">
                          <div className="text-sm text-gray-900">{user.phone_number || "Chưa cập nhật"}</div>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap">
                          <span
                            className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${
                              user.role === "admin" ? "bg-red-100 text-red-800" : "bg-green-100 text-green-800"
                            }`}
                          >
                            {user.role === "admin" ? "Quản trị viên" : "Khách hàng"}
                          </span>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap">
                          <div className="text-sm text-gray-900">{formatDate(user?.createdAt) || "Chưa cập nhật"}</div>
                        </td>
                        <td className="px-6 py-4 whitespace-nowrap text-sm font-medium">
                          <button
                            onClick={() => openEditModal(user)}
                            className="text-indigo-600 hover:text-indigo-900 mr-3  cursor-pointer"
                          >
                            Sửa
                          </button>
                          {user.role !== "admin" && (
                            <button
                              onClick={() => deleteUser(user._id, user.name)}
                              className="text-red-600 hover:text-red-900  cursor-pointer"
                            >
                              Xóa
                            </button>
                          )}
                        </td>
                      </tr>
                    ))
                  ) : (
                    <tr>
                      <td colSpan="6" className="px-6 py-4 text-center text-gray-500">
                        Không có người dùng nào
                      </td>
                    </tr>
                  )}
                </tbody>
              </table>
            </div>

            {pagination.totalPages > 1 && (
              <div className="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
                <div className="flex-1 flex justify-between sm:hidden">
                  <button
                    onClick={() => changePage(pagination.page - 1)}
                    disabled={pagination.page === 1}
                    className="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"
                  >
                    Trước
                  </button>
                  <button
                    onClick={() => changePage(pagination.page + 1)}
                    disabled={pagination.page === pagination.totalPages}
                    className="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50"
                  >
                    Sau
                  </button>
                </div>
                <div className="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
                  <div>
                    <p className="text-sm text-gray-700">
                      Hiển thị <span className="font-medium">{(pagination.page - 1) * pagination.limit + 1}</span> đến{" "}
                      <span className="font-medium">
                        {Math.min(pagination.page * pagination.limit, pagination.total)}
                      </span>{" "}
                      của <span className="font-medium">{pagination.total}</span> kết quả
                    </p>
                  </div>
                  <div>
                    <nav className="relative z-0 inline-flex rounded-md shadow-sm -space-x-px">
                      <button
                        onClick={() => changePage(pagination.page - 1)}
                        disabled={pagination.page === 1}
                        className="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50"
                      >
                        ←
                      </button>

                      {[...Array(pagination.totalPages)].map((_, index) => {
                        const pageNum = index + 1;
                        return (
                          <button
                            key={pageNum}
                            onClick={() => changePage(pageNum)}
                            className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${
                              pagination.page === pageNum
                                ? "z-10 bg-indigo-50 border-indigo-500 text-indigo-600"
                                : "bg-white border-gray-300 text-gray-500 hover:bg-gray-50"
                            }`}
                          >
                            {pageNum}
                          </button>
                        );
                      })}

                      <button
                        onClick={() => changePage(pagination.page + 1)}
                        disabled={pagination.page === pagination.totalPages}
                        className="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50"
                      >
                        →
                      </button>
                    </nav>
                  </div>
                </div>
              </div>
            )}
          </>
        )}
      </div>

      {/* Modal thêm người dùng */}
      {showAddModal && (
        <div className="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
          <div className="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div className="mt-3">
              <h3 className="text-lg font-medium text-gray-900 mb-4">Thêm người dùng mới</h3>

              <form onSubmit={addUser} className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">
                    Tên <span className="text-red-500">*</span>
                  </label>
                  <input
                    type="text"
                    value={addForm.name}
                    onChange={(e) => setAddForm({ ...addForm, name: e.target.value })}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    required
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">
                    Email <span className="text-red-500">*</span>
                  </label>
                  <input
                    type="email"
                    value={addForm.email}
                    onChange={(e) => setAddForm({ ...addForm, email: e.target.value })}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    required
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">
                    Mật khẩu <span className="text-red-500">*</span>
                  </label>
                  <input
                    type="password"
                    value={addForm.password}
                    onChange={(e) => setAddForm({ ...addForm, password: e.target.value })}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    required
                    minLength={8}
                  />
                  <p className="text-xs text-gray-500 mt-1">Mật khẩu phải có ít nhất 8 ký tự</p>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Số điện thoại</label>
                  <input
                    type="tel"
                    value={addForm.phone_number}
                    onChange={(e) => setAddForm({ ...addForm, phone_number: e.target.value })}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Giới tính</label>
                  <select
                    value={addForm.gender}
                    onChange={(e) => setAddForm({ ...addForm, gender: e.target.value })}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">Chọn giới tính</option>
                    <option value="male">Nam</option>
                    <option value="female">Nữ</option>
                    <option value="other">Khác</option>
                  </select>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Địa chỉ</label>
                  <textarea
                    value={addForm.address}
                    onChange={(e) => setAddForm({ ...addForm, address: e.target.value })}
                    rows="3"
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>
             

                <div className="flex justify-end space-x-3 pt-4">
                  <button
                    type="button"
                    onClick={() => setShowAddModal(false)}
                    className="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"
                  >
                    Hủy
                  </button>
                  <button type="submit" className="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600">
                    Thêm người dùng
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      )}

      {/* Modal chỉnh sửa người dùng */}
      {showEditModal && (
        <div className="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
          <div className="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div className="mt-3">
              <h3 className="text-lg font-medium text-gray-900 mb-4">Chỉnh sửa thông tin người dùng</h3>

              <form onSubmit={updateUser} className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Tên</label>
                  <input
                    type="text"
                    value={editForm.name}
                    onChange={(e) => setEditForm({ ...editForm, name: e.target.value })}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    required
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Email</label>
                  <input
                    type="email"
                    value={editForm.email}
                    onChange={(e) => setEditForm({ ...editForm, email: e.target.value })}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    required
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Số điện thoại</label>
                  <input
                    type="tel"
                    value={editForm.phone_number}
                    onChange={(e) => setEditForm({ ...editForm, phone_number: e.target.value })}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Giới tính</label>
                  <select
                    value={editForm.gender}
                    onChange={(e) => setEditForm({ ...editForm, gender: e.target.value })}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  >
                    <option value="">Chọn giới tính</option>
                    <option value="male">Nam</option>
                    <option value="female">Nữ</option>
                    <option value="other">Khác</option>
                  </select>
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Địa chỉ</label>
                  <textarea
                    value={editForm.address}
                    onChange={(e) => setEditForm({ ...editForm, address: e.target.value })}
                    rows="3"
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>

                <div className="flex justify-end space-x-3 pt-4">
                  <button
                    type="button"
                    onClick={() => setShowEditModal(false)}
                    className="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"
                  >
                    Hủy
                  </button>
                  <button type="submit" className="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">
                    Cập nhật
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default Users;
```

### backend\server.js
```js
import express from 'express'
import cors from 'cors'
import 'dotenv/config'
import connectDB from './config/mongodb.js'
import connectCloudinary from './config/cloudinary.js'
import userRouter from './routes/userRoute.js'
import productRouter from './routes/productRoute.js'
import cartRouter from './routes/cartRoute.js'
import orderRouter from './routes/orderRoute.js'

// App Config
const app = express()
const port = process.env.PORT || 4000
connectDB()
connectCloudinary()


// middlewares
app.use(cors())
app.use(express.json())



// api andpoints
app.use('/api/user',userRouter)
app.use('/api/product',productRouter)
app.use('/api/cart',cartRouter)
app.use('/api/order',orderRouter)

app.get('/',(req,res)=>{
    res.send("API Working")
})

app.listen(port,()=>{
    console.log('Server started on PORT : '+ port)
})

```

### backend\config\cloudinary.js
```js
import {v2 as cloudinary } from "cloudinary";

const connectCloudinary = async () => {

    cloudinary.config({
        cloud_name: process.env.CLOUDINARY_NAME,
        api_key: process.env.CLOUDINARY_API_KEY,
        api_secret: process.env.CLOUDINARY_SECRET_KEY
    })
}

export default connectCloudinary;
```

### backend\config\mongodb.js
```js
import mongoose from "mongoose";

const connectDB = async () => {

    mongoose.connection.on('connected', () => {
        console.log("DB Connected");
    })

    await mongoose.connect(`${process.env.MONGODB_URI}/e-commerce`)

}
export default connectDB;
```

### backend\controllers\cartController.js
```js
import userModel from "../models/userModel.js";

// add products to user cart
const addToCart = async (req,res) => {
    try {

        const { itemId , size} = req.body
        const userId = req.userId 
        const userData = await userModel.findById(userId)
        let cartData = await userData.cartData

     

        if(cartData[itemId]){
            if(cartData[itemId][size]) {
                cartData[itemId][size] +=1;
            }
            else{
                cartData[itemId][size] = 1;
            }
        } else {
            cartData[itemId] = {};
            cartData[itemId][size] = 1;
        }

        await userModel.findByIdAndUpdate(userId , {cartData})

        res.json({success:true , message:"Sản phẩm được thêm vào giỏ hàng"})

    } catch (error) {
        console.log(error);
        res.json({success:false , message:error.message})
        
    }
}

//  update user cart
const updateCart = async (req,res) => {
    try {
        const { userId , itemId , size , quantity} = req.body
        
        const userData = await userModel.findById(userId)
        let cartData = await userData.cartData

        cartData[itemId][size] = quantity;

        await userModel.findByIdAndUpdate(userId , {cartData})
        res.json({success:true , message:"Giỏ hàng đã được cập nhật"})


    } catch (error) {
        console.log(error);
        res.json({success:false , message:error.message})
    }
}

// get user cart data
const getUserCart = async (req,res) => {
    try {
        const userId = req.userId
        const userData = await userModel.findById(userId)
        let cartData = await userData.cartData
   
        
        res.json({success:true , cartData})

    } catch (error) {
        console.log(error);
        res.json({success:false , message:error.message})
    }
}

export {addToCart,updateCart,getUserCart}
```

### backend\controllers\orderController.js
```js
import orderModel from "../models/orderModel.js";
import userModel from "../models/userModel.js";
import Stripe from "stripe";

// global variables
const currency = "usd";
const deliveryCharge = 30000;

//  gateway initialize
const stripe = new Stripe(process.env.STRIPE_SECRET_KEY);

// Placing orders using COD Method

const placeOrder = async (req, res) => {
  try {
    const { items, amount, address } = req.body;
    const userId = req.userId;
    const orderData = {
      userId,
      items,
      address,
      amount,
      paymentMethod: "COD",
      payment: false,
      // date: Date.now()
    };

    const newOrder = new orderModel(orderData);
    await newOrder.save();

    await userModel.findByIdAndUpdate(userId, { cartData: {} });

    res.json({ success: true, message: "Đã đặt hàng" });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

//  Placing orders using Stripe Payment
const placeOrderStripe = async (req, res) => {
  try {
    const { items, amount, address } = req.body;

    const userId = req.userId;

    const { origin } = req.headers;

    const orderData = {
      userId,
      items,
      address,
      amount,
      paymentMethod: "Stripe",
      payment: false,
      date: Date.now(),
    };

    const newOrder = new orderModel(orderData);
    await newOrder.save();

    const VND_TO_USD = 27110; // tỷ giá mẫu, thay bằng tỷ giá thực tế
    const line_items = items.map((item) => ({
      price_data: {
        currency: currency,
        product_data: {
          name: item.name,
        },
        unit_amount: Math.round((item.price / VND_TO_USD) * 100),
        // unit_amount: item.price *100
        //  Math.round(item.price / VND_TO_USD * 100) nếu giá là VND, chia cho tỷ giá và nhân 100 để chuyển sang cents
      },
      quantity: item.quantity,
    }));

    line_items.push({
      price_data: {
        currency: currency,
        product_data: {
          name: "Phí giao hàng",
        },
        unit_amount: Math.round((deliveryCharge / VND_TO_USD) * 100),
        // unit_amount: deliveryCharge  * 100
        //  Math.round(deliveryCharge / VND_TO_USD * 100) nếu giá là VND, chia cho tỷ giá và nhân 100 để chuyển sang cents
      },
      quantity: 1,
    });

    const session = await stripe.checkout.sessions.create({
      payment_method_types: ["card"],
      success_url: `${origin}/verify?success=true&orderId=${newOrder._id}`,
      cancel_url: `${origin}/verify?success=false&orderId=${newOrder._id}`,
      line_items,
      mode: "payment",
    });

    res.json({ success: true, session_url: session.url });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// verify Stripe

const verifyStripe = async (req, res) => {
  const { orderId, success } = req.body;
    const userId = req.userId;
  try {
    if (success === "true") {
      await orderModel.findByIdAndUpdate(orderId, { payment: true });
      await userModel.findByIdAndUpdate(userId, { cartData: {} });
      res.json({ success: true, message: "Đặt hàng thành công" });
    } else {
      await orderModel.findByIdAndDelete(orderId);
      res.json({ success: false, message: "Đặt hàng thất bại" });
    }
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

//  Placing orders using Razorpay Method
const placeOrderRazorpay = async (req, res) => {};

// All Orders Data for Admin page
const allOrders = async (req, res) => {
  try {
    const orders = await orderModel.find({});
    res.json({ success: true, orders });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// User Orders Data for fontEnd
const userOrders = async (req, res) => {
  try {
    const userId = req.userId; 
    const orders = await orderModel.find({ userId });
    res.json({ success: true, orders });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// update order status from Admin page
const updateStatus = async (req, res) => {
  try {
    const { orderId, status } = req.body;
    if (status === "Đã giao hàng") {
      await orderModel.findByIdAndUpdate(orderId, { payment: true });
    }
    await orderModel.findByIdAndUpdate(orderId, { status });
    res.json({ success: true, message: "Trạng thái đã cập nhật" });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

export {
  verifyStripe,
  placeOrder,
  placeOrderStripe,
  placeOrderRazorpay,
  allOrders,
  userOrders,
  updateStatus,
};

```

### backend\controllers\productController.js
```js
import { v2 as cloudinary } from "cloudinary";
import productModel from "../models/productModel.js";

// function for add product
const addProduct = async (req,res) => {
    try {
        
        const {name , description , price , category , subCategory , sizes , bestseller} = req.body

        const image1 = req.files.image1 && req.files.image1[0]
        const image2 = req.files.image2 && req.files.image2[0]
        const image3 = req.files.image3 && req.files.image3[0]
        const image4 = req.files.image4 && req.files.image4[0]

        const images = [image1 , image2 , image3 , image4].filter((item) => item !== undefined);

        let imagesUrl = await Promise.all(
            images.map(async (item) => {
                let result = await cloudinary.uploader.upload(item.path,{resource_type:'image'});
                return result.secure_url
            })
        )
        
        const productData = {
            name,
            description,
            price: Number(price),
            category,
            subCategory,
            bestseller: bestseller === "true" ? true : false,
            sizes: JSON.parse(sizes),
            image: imagesUrl,
            // date: Date.now()
        }

        
        const product = new productModel(productData);
        await product.save();

        res.json({success:true,message:"Sản phẩm đã thêm"})

    } catch (error) {
        console.log(error);
        res.json({success:false,message:error.message})
    }


}

// function for list product
const listProducts = async (req,res) => {
    try {
        
        const products = await productModel.find({});
        res.json({success:true,products})

    } catch (error) {
        console.log(error);
        res.json({success:false,message:error.message})
    }
}

// function for remove product
const removeProduct = async (req,res) => {
        try {

            await productModel.findByIdAndDelete(req.body.id)
            res.json({success:true,message:"Sản phẩm đã xóa thành công"})

        } catch (error) {
            console.log(error);
            res.json({success:false,message:error.message})
        }
}

// function for single product info
const singleProduct = async (req,res) => {
    
    try {
        
        const { productId } = req.body
        
        const product = await productModel.findById(productId)
        res.json({success:true,product})

    } catch (error) {
        console.log(error);
        res.json({success:false,message:error.message})
    }

}

export {listProducts , addProduct , removeProduct , singleProduct};
```

### backend\controllers\statisticsController.js
```js
import orderModel from "../models/orderModel.js";
import userModel from "../models/userModel.js";
import productModel from "../models/productModel.js";

// API thống kê tổng quan
const getOverallStats = async (req, res) => {
  try {
    // Thống kê tổng số đơn hàng
    const totalOrders = await orderModel.countDocuments();

    // Thống kê tổng số người dùng
    const totalUsers = await userModel.countDocuments();

    // Thống kê tổng số sản phẩm
    const totalProducts = await productModel.countDocuments();

    // Thống kê tổng doanh thu
    const revenueData = await orderModel.aggregate([
      {
        $match: { payment: true },
      },
      {
        $group: {
          _id: null,
          totalRevenue: { $sum: "$amount" },
        },
      },
    ]);
    const totalRevenue = revenueData.length > 0 ? revenueData[0].totalRevenue : 0;

    // Thống kê số đơn hàng theo trạng thái
    const ordersByStatus = await orderModel.aggregate([
      {
        $group: {
          _id: "$status",
          count: { $sum: 1 },
        },
      },
    ]);

    res.json({
      success: true,
      data: {
        totalOrders,
        totalUsers,
        totalProducts,
        totalRevenue,
        ordersByStatus,
      },
    });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// API thống kê doanh thu theo thời gian
const getRevenueStats = async (req, res) => {
  try {
    const { period = "month", year, month } = req.query;

    let matchCondition = { payment: true };
    let groupBy = {};

    if (period === "day" && year && month) {
      // Thống kê theo ngày trong tháng
      const startDate = new Date(year, month - 1, 1);
      const endDate = new Date(year, month, 0);

      matchCondition.createdAt = {
        $gte: startDate,
        $lte: endDate,
      };

      groupBy = {
        _id: { $dayOfMonth: "$createdAt" },
        revenue: { $sum: "$amount" },
        orderCount: { $sum: 1 },
      };
    } else if (period === "month" && year) {
      // Thống kê theo tháng trong năm
      const startDate = new Date(year, 0, 1);
      const endDate = new Date(year, 11, 31);

      matchCondition.createdAt = {
        $gte: startDate,
        $lte: endDate,
      };

      groupBy = {
        _id: { $month: "$createdAt" },
        revenue: { $sum: "$amount" },
        orderCount: { $sum: 1 },
      };
    } else {
      // Thống kê theo năm
      groupBy = {
        _id: { $year: "$createdAt" },
        revenue: { $sum: "$amount" },
        orderCount: { $sum: 1 },
      };
    }

    const revenueData = await orderModel.aggregate([
      { $match: matchCondition },
      { $group: groupBy },
      { $sort: { _id: 1 } },
    ]);

    res.json({
      success: true,
      data: revenueData,
    });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// API thống kê sản phẩm bán chạy
const getTopProducts = async (req, res) => {
  try {
    const { limit = 10 } = req.query;

    const topProducts = await orderModel.aggregate([
      { $match: { payment: true } },
      { $unwind: "$items" },
      {
        $group: {
          _id: "$items._id",
          totalQuantity: { $sum: "$items.quantity" },
          totalRevenue: { $sum: { $multiply: ["$items.quantity", "$items.price"] } },
          productName: { $first: "$items.name" },
        },
      },
      { $sort: { totalQuantity: -1 } },
      { $limit: parseInt(limit) },
    ]);

    res.json({
      success: true,
      data: topProducts,
    });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// API thống kê đơn hàng theo trạng thái
const getOrderStats = async (req, res) => {
  try {
    const { period = "month", year, month } = req.query;

    let matchCondition = {};

    if (period === "day" && year && month) {
      const startDate = new Date(year, month - 1, 1);
      const endDate = new Date(year, month, 0);

      matchCondition.createdAt = {
        $gte: startDate,
        $lte: endDate,
      };
    } else if (period === "month" && year) {
      const startDate = new Date(year, 0, 1);
      const endDate = new Date(year, 11, 31);

      matchCondition.createdAt = {
        $gte: startDate,
        $lte: endDate,
      };
    }

    // Thống kê theo trạng thái
    const ordersByStatus = await orderModel.aggregate([
      { $match: matchCondition },
      {
        $group: {
          _id: "$status",
          count: { $sum: 1 },
        },
      },
    ]);

    // Thống kê theo phương thức thanh toán
    const ordersByPaymentMethod = await orderModel.aggregate([
      { $match: matchCondition },
      {
        $group: {
          _id: "$paymentMethod",
          count: { $sum: 1 },
        },
      },
    ]);

    // Thống kê đơn hàng theo thời gian
    let groupBy = {};
    if (period === "day" && year && month) {
      groupBy = {
        _id: { $dayOfMonth: "$createdAt" },
        orderCount: { $sum: 1 },
      };
    } else if (period === "month" && year) {
      groupBy = {
        _id: { $month: "$createdAt" },
        orderCount: { $sum: 1 },
      };
    } else {
      groupBy = {
        _id: { $year: "$createdAt" },
        orderCount: { $sum: 1 },
      };
    }

    const ordersByTime = await orderModel.aggregate([
      { $match: matchCondition },
      { $group: groupBy },
      { $sort: { _id: 1 } },
    ]);

    res.json({
      success: true,
      data: {
        ordersByStatus,
        ordersByPaymentMethod,
        ordersByTime,
      },
    });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};


// API thống kê sản phẩm
const getProductStats = async (req, res) => {
  try {
    // Thống kê sản phẩm theo danh mục
    const productsByCategory = await productModel.aggregate([
      {
        $group: {
          _id: "$category",
          count: { $sum: 1 },
        },
      },
    ]);

    // Thống kê sản phẩm theo danh mục con
    const productsBySubCategory = await productModel.aggregate([
      {
        $group: {
          _id: "$subCategory",
          count: { $sum: 1 },
        },
      },
    ]);

    // Thống kê sản phẩm bestseller
    const bestsellerCount = await productModel.countDocuments({ bestseller: true });
    const regularCount = await productModel.countDocuments({ bestseller: { $ne: true } });

    // Thống kê giá sản phẩm
    const priceStats = await productModel.aggregate([
      {
        $group: {
          _id: null,
          avgPrice: { $avg: "$price" },
          minPrice: { $min: "$price" },
          maxPrice: { $max: "$price" },
        },
      },
    ]);

    res.json({
      success: true,
      data: {
        productsByCategory,
        productsBySubCategory,
        bestsellerStats: {
          bestseller: bestsellerCount,
          regular: regularCount,
        },
        priceStats: priceStats.length > 0 ? priceStats[0] : null,
      },
    });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

export { getOverallStats, getRevenueStats, getTopProducts, getOrderStats, getProductStats };

```

### backend\controllers\userController.js
```js
import validator from "validator";
import bcrypt from "bcrypt";
import jwt from "jsonwebtoken";
import userModel from "../models/userModel.js";

const createToken = (id) => {
  return jwt.sign({ id }, process.env.JWT_SECRET);
};

// Route for user login
const loginUser = async (req, res) => {
  try {
    const { email, password } = req.body;

    const user = await userModel.findOne({ email });

    if (!user) {
      return res.json({ success: false, message: "Người dùng không tồn tại" });
    }

    const isMatch = await bcrypt.compare(password, user.password);

    if (isMatch) {
      const token = createToken(user._id);
      res.json({ success: true, token , user: {
        name: user.name, 
        email: user.email
      }});
    } else {
      res.json({ success: false, message: "Thông tin đăng nhập không hợp lệ" });
    }
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// Route for user registration
const registerUser = async (req, res) => {
  try {
    const { name, email, password } = req.body;

    const exists = await userModel.findOne({ email });
    if (exists) {
      return res.json({ success: false, message: "Email đã được đăng ký" });
    }

    if (!validator.isEmail(email)) {
      return res.json({ success: false, message: "Vui lòng nhập email hợp lệ" });
    }
    if (password.length < 8) {
      return res.json({ success: false, message: "Vui lòng nhập mật khẩu có ít nhất 8 ký tự" });
    }

    // băm mật khẩu người dùng
    const salt = await bcrypt.genSalt(10);
    const hashedPassword = await bcrypt.hash(password, salt);

    const newUser = new userModel({
      name,
      email,
      password: hashedPassword,
    });

    const user = await newUser.save();

    const token = createToken(user._id);

    res.json({ success: true, token });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// Route for admin login
const adminLogin = async (req, res) => {
  try {
    const { email, password } = req.body;

    if (email === process.env.ADMIN_EMAIL && password === process.env.ADMIN_PASSWORD) {
      const token = jwt.sign(email + password, process.env.JWT_SECRET);
      res.json({ success: true, token });
    } else {
      res.json({ success: false, message: "Thông tin đăng nhập không hợp lệ" });
    }
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// API để tạo người dùng mới (dành cho admin)
const createUser = async (req, res) => {
  try {
    const { name, email, password, phone_number, gender, address, role } = req.body;

    if (!name || !email || !password) {
      return res.json({ success: false, message: "Vui lòng nhập đầy đủ tên, email và mật khẩu" });
    }
 
    if (!validator.isEmail(email)) {
      return res.json({ success: false, message: "Vui lòng nhập email hợp lệ" });
    }
   
    if (password.length < 8) {
      return res.json({ success: false, message: "Mật khẩu phải có ít nhất 8 ký tự" });
    }
    
    const exists = await userModel.findOne({ email });
    if (exists) {
      return res.json({ success: false, message: "Email đã được đăng ký" });
    }
  
    const salt = await bcrypt.genSalt(10);
    const hashedPassword = await bcrypt.hash(password, salt);
  
    const newUser = new userModel({
      name,
      email,
      password: hashedPassword,
      phone_number: phone_number || "",
      gender: gender || "",
      address: address || "",
      role: role || "user",
    });

    const user = await newUser.save();
  
    const userResponse = await userModel.findById(user._id).select("-password -cartData");

    res.json({ 
      success: true, 
      message: "Tạo người dùng thành công", 
      user: userResponse 
    });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};


// API để lấy danh sách tất cả người dùng (dành cho admin)
const getAllUsers = async (req, res) => {
  try {
    const { page = 1, limit = 10, search = "" } = req.query;
    const pageNumber = parseInt(page);
    const limitNumber = parseInt(limit);
    const skip = (pageNumber - 1) * limitNumber;

    // Tạo query tìm kiếm
    let query = {};
    if (search) {
      query = {
        $or: [
          { name: { $regex: search, $options: "i" } },
          { email: { $regex: search, $options: "i" } },
          { phone_number: { $regex: search, $options: "i" } },
        ],
      };
    }

    const users = await userModel
      .find(query)
      .select("-password -cartData") // Loại bỏ password và cartData khỏi kết quả
      .skip(skip)
      .limit(limitNumber)
      .sort({ createdAt: -1 });

    const totalUsers = await userModel.countDocuments(query);
    const totalPages = Math.ceil(totalUsers / limitNumber);

    res.json({
      success: true,
      users,
      pagination: {
        total: totalUsers,
        page: pageNumber,
        limit: limitNumber,
        totalPages: totalPages,
      },
    });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// API để lấy thông tin chi tiết một người dùng
const getUserById = async (req, res) => {
  try {
    const { userId } = req.params;

    const user = await userModel.findById(userId).select("-password");

    if (!user) {
      return res.json({ success: false, message: "Không tìm thấy người dùng" });
    }

    res.json({ success: true, user });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// API để cập nhật thông tin người dùng (dành cho admin)
const updateUser = async (req, res) => {
  try {
    const { userId } = req.params;
    const { name, email, phone_number, gender, address, role } = req.body;

    // Kiểm tra email hợp lệ nếu có cập nhật email
    if (email && !validator.isEmail(email)) {
      return res.json({ success: false, message: "Email không hợp lệ" });
    }

    // Kiểm tra email đã tồn tại nếu có cập nhật email
    if (email) {
      const existingUser = await userModel.findOne({ email, _id: { $ne: userId } });
      if (existingUser) {
        return res.json({ success: false, message: "Email đã được sử dụng bởi người dùng khác" });
      }
    }

    const updateData = {};
    if (name) updateData.name = name;
    if (email) updateData.email = email;
    if (phone_number) updateData.phone_number = phone_number;
    if (gender) updateData.gender = gender;
    if (address) updateData.address = address;
    if (role) updateData.role = role;

    const updatedUser = await userModel
      .findByIdAndUpdate(userId, updateData, { new: true, runValidators: true })
      .select("-password -cartData");

    if (!updatedUser) {
      return res.json({ success: false, message: "Không tìm thấy người dùng" });
    }

    res.json({ success: true, message: "Cập nhật thông tin người dùng thành công", user: updatedUser });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// API để xóa người dùng (dành cho admin)
const deleteUser = async (req, res) => {
  try {
    const { userId } = req.params;

    const user = await userModel.findById(userId);

    if (!user) {
      return res.json({ success: false, message: "Không tìm thấy người dùng" });
    }

    // Không cho phép xóa admin
    if (user.role === "admin") {
      return res.json({ success: false, message: "Không thể xóa tài khoản admin" });
    }

    await userModel.findByIdAndDelete(userId);

    res.json({ success: true, message: "Xóa người dùng thành công" });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// API để người dùng tự cập nhật thông tin cá nhân
const updateUserProfile = async (req, res) => {
  try {
    const userId = req.userId; 
    
    const { name, email, phone_number, gender, address, currentPassword, newPassword } = req.body;

    // Tìm người dùng hiện tại
    const user = await userModel.findById(userId);
    if (!user) {
      return res.json({ success: false, message: "Không tìm thấy người dùng" });
    }

    // Kiểm tra email hợp lệ nếu có cập nhật email
    if (email && !validator.isEmail(email)) {
      return res.json({ success: false, message: "Email không hợp lệ" });
    }

    // Kiểm tra email đã tồn tại nếu có cập nhật email
    if (email && email !== user.email) {
      const existingUser = await userModel.findOne({ email, _id: { $ne: userId } });
      if (existingUser) {
        return res.json({ success: false, message: "Email đã được sử dụng bởi người dùng khác" });
      }
    }

    // Xử lý thay đổi mật khẩu
    let hashedNewPassword = null;
    if (newPassword) {
      // Kiểm tra mật khẩu hiện tại
      if (!currentPassword) {
        return res.json({ success: false, message: "Vui lòng nhập mật khẩu hiện tại" });
      }

      const isMatch = await bcrypt.compare(currentPassword, user.password);
      if (!isMatch) {
        return res.json({ success: false, message: "Mật khẩu hiện tại không đúng" });
      }

      // Kiểm tra độ dài mật khẩu mới
      if (newPassword.length < 8) {
        return res.json({ success: false, message: "Mật khẩu mới phải có ít nhất 8 ký tự" });
      }

      // Băm mật khẩu mới
      const salt = await bcrypt.genSalt(10);
      hashedNewPassword = await bcrypt.hash(newPassword, salt);
    }

    // Chuẩn bị dữ liệu cập nhật
    const updateData = {};
    if (name) updateData.name = name;
    if (email) updateData.email = email;
    if (phone_number !== undefined) updateData.phone_number = phone_number;
    if (gender) updateData.gender = gender;
    if (address !== undefined) updateData.address = address;
    if (hashedNewPassword) updateData.password = hashedNewPassword;

    // Cập nhật thông tin người dùng
    const updatedUser = await userModel
      .findByIdAndUpdate(userId, updateData, { new: true, runValidators: true })
      .select("-password -cartData");

    if (!updatedUser) {
      return res.json({ success: false, message: "Không thể cập nhật thông tin" });
    }

    res.json({
      success: true,
      message: "Cập nhật thông tin thành công",
      user: updatedUser,
    });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

// API để người dùng lấy thông tin profile của mình
const getUserProfile = async (req, res) => {
  try {
    const userId = req.userId; 

    const user = await userModel.findById(userId).select("-password -cartData");

    if (!user) {
      return res.json({ success: false, message: "Không tìm thấy người dùng" });
    }

    res.json({ success: true, user });
  } catch (error) {
    console.log(error);
    res.json({ success: false, message: error.message });
  }
};

const getCurrentUser = async (req, res) => {
    const userId = req.userId;
    console.log("userIdfsdfd");
  try {

    const user = await userModel.findById(userId).select(
    "-password -createdAt -updatedAt"
  );
//   if (!user) {
//     throw new Error("Không tìm thấy người dùng");
//   }
    
    
    return res.status(200).json({ success: true, data: user });
  } catch (error) {
    res.status(404).json({ success: false, message: error.message });
  }
};


export {
  loginUser,
  registerUser,
  adminLogin,
  createUser,
  getAllUsers,
  getUserById,
  updateUser,
  deleteUser,
  updateUserProfile,
  getUserProfile,
  getCurrentUser,
};

```

### backend\middleware\adminAuth.js
```js
import jwt from "jsonwebtoken";

const adminAuth = async (req, res, next) => {
    try {
        const { token } = req.headers
        if (!token){
            return res.json({success: false , message:"Bạn không có quyền truy cập. Vui lòng đăng nhập lại để tiếp tục."})
        }
        const token_decode = jwt.verify(token,process.env.JWT_SECRET);
        if(token_decode !== process.env.ADMIN_EMAIL + process.env.ADMIN_PASSWORD){
            return res.json({success: false , message:"Bạn không có quyền truy cập. Vui lòng đăng nhập lại để tiếp tục."})
        }
        next()
    } catch (error) {
        console.log(error);
        res.json({success:fasle , message:error.message})
    }
}

export default adminAuth
```

### backend\middleware\auth.js
```js
import jwt from 'jsonwebtoken'
import userModel from '../models/userModel.js';
const authUser = async (req , res , next) => {

    const {token} = req.headers;
    

    if(!token) {
        return res.json({success : false , message : "Bạn không có quyền truy cập. Vui lòng đăng nhập lại để tiếp tục."})
    }

    try {
        const token_decode = jwt.verify(token,process.env.JWT_SECRET);
        const user = await userModel.findById(token_decode.id);
        if(!user) {
            return res.json({success : false , message : "Bạn không có quyền truy cập. Vui lòng đăng nhập lại để tiếp tục."})
        }

        req.userId = user._id;
        next();

    } catch (error) {
        console.log(error);
        res.json({success:false , message:error.message})
    }

}

export default authUser
```

### backend\middleware\multer.js
```js
import multer from "multer";

const storage = multer.diskStorage({
    filename: function(rep,file,callback){
        callback(null,file.originalname);
    }
});

const upload = multer({storage})

export default upload
```

### backend\models\couponModel.js
```js
const mongoose = require('mongoose');

const couponSchema = new mongoose.Schema({
  code: {
    type: String,
    required: true,
    unique: true,
    trim: true
  },
  description: {
    type: String
  },
  discountType: {
    type: String, // e.g., "percentage" or "fixed"
    enum: ['percentage', 'fixed'],
    required: true
  },
  discountValue: {
    type: Number,
    required: true
  },
  minOrderValue: {
    type: Number,
    default: 0
  },
  maxDiscount: {
    type: Number
  },
  startDate: {
    type: Date,
    required: true
  },
  endDate: {
    type: Date,
    required: true
  },
  usageLimit: {
    type: Number,
    default: 1
  },
  usedCount: {
    type: Number,
    default: 0
  },
  isActive: {
    type: Boolean,
    default: true
  }
}, {
  timestamps: true 
});

module.exports = mongoose.model('Coupon', couponSchema);

```

### backend\models\orderModel.js
```js
import mongoose from 'mongoose'

const orderSchema = new mongoose.Schema({
    userId: { type:String , required:true },
    items: {type:Array , required:true },
    amount: { type:Number , required:true },
    couponId: { type:mongoose.Schema.Types.ObjectId, ref:'Coupon'},
    address: { type:Object , required:true },
    status: { type:String , required:true  , default: 'Đã đặt hàng'},
    paymentMethod: { type:String , required:true },
    payment: { type:Boolean, required:true , default: false },
    // date: { type:Number , required:true }
},{timestamps:true})

const orderModel = mongoose.models.order || mongoose.model('order' , orderSchema);
export default orderModel;
```

### backend\models\productModel.js
```js
import mongoose from "mongoose";

const productSchema = new mongoose.Schema({
    name: { type:String, required:true },
    description: { type:String, required:true },
    price: { type:Number, required:true },
    image: { type:Array, required:true },
    bestseller: { type:Boolean },
    category: { type:String, required:true },
    subCategory: { type:String, required:true },
    sizes: { type:Array, required:true },
    // date: { type:Number , required:true },
},{timestamps:true})


const productModel = mongoose.models.product || mongoose.model("product",productSchema);

export default productModel
```

### backend\models\userModel.js
```js
import mongoose from "mongoose";

const userSchema = new mongoose.Schema(
  {
    name: { type: String, required: true },
    email: { type: String, required: true, unique: true },
    password: { type: String, required: true },
    phone_number: { type: String },
    gender: { type: String },
    address: { type: String },
    avatar_url: { type: String, default: null },
    role: { type: String, default: "user" },
    cartData: { type: Object, default: {} },
  },
  { minimize: false, timestamps: true }
);

const userModel = mongoose.models.user || mongoose.model("user", userSchema);

export default userModel;

```

### backend\routes\cartRoute.js
```js
import express from 'express';
import { addToCart, getUserCart , updateCart } from '../controllers/cartController.js';
import authUser from '../middleware/auth.js';
const cartRouter = express.Router();

cartRouter.post('/get',authUser ,getUserCart);
cartRouter.post('/add', authUser ,addToCart);
cartRouter.post('/update', authUser ,updateCart);

export default cartRouter
```

### backend\routes\orderRoute.js
```js
import express from 'express';
import { placeOrder , placeOrderStripe , placeOrderRazorpay , allOrders , userOrders , updateStatus, verifyStripe} from '../controllers/orderController.js';
import adminAuth from '../middleware/adminAuth.js';
import authUser from '../middleware/auth.js';



const orderRouter = express.Router();


// Admin Features
orderRouter.post('/list', adminAuth ,allOrders);
orderRouter.post('/status', adminAuth ,updateStatus);

// payment features
orderRouter.post('/place',authUser,placeOrder);
orderRouter.post('/stripe',authUser,placeOrderStripe);
orderRouter.post('/razorpay',authUser,placeOrderRazorpay);

// User Feature
orderRouter.post('/userorders',authUser,userOrders);

// verify payment
orderRouter.post('/verifyStripe',authUser , verifyStripe)


export default orderRouter
```

### backend\routes\productRoute.js
```js
import express from 'express'
import {listProducts , addProduct , removeProduct , singleProduct} from '../controllers/productController.js'
import upload from '../middleware/multer.js';
import adminAuth from '../middleware/adminAuth.js';

const productRouter = express.Router();

productRouter.post('/add',adminAuth,upload.fields([{name:'image1',maxCount:1},{name:'image2',maxCount:1},{name:'image3',maxCount:1},{name:'image4',maxCount:1}]),addProduct);
productRouter.post('/remove',adminAuth,removeProduct);
productRouter.post('/single',singleProduct);
productRouter.get('/list',listProducts);

export default productRouter

```

### backend\routes\statisticsRoute.js
```js
import express from "express";
import {
  getOverallStats,
  getRevenueStats,
  getTopProducts,
  getOrderStats,
  getProductStats,
} from "../controllers/statisticsController.js";
import adminAuth from "../middleware/adminAuth.js";

const statisticsRouter = express.Router();

// Route thống kê tổng quan
statisticsRouter.get("/overview", adminAuth, getOverallStats);

// Route thống kê doanh thu
statisticsRouter.get("/revenue", adminAuth, getRevenueStats);

// Route thống kê sản phẩm bán chạy
statisticsRouter.get("/top-products", adminAuth, getTopProducts);

// Route thống kê đơn hàng
statisticsRouter.get("/orders", adminAuth, getOrderStats);

// Route thống kê sản phẩm
statisticsRouter.get("/products", adminAuth, getProductStats);

export default statisticsRouter;

```

### backend\routes\userRoute.js
```js
import express from "express";
import {
  loginUser,
  registerUser,
  adminLogin,
  createUser,
  getAllUsers,
  getUserById,
  updateUser,
  deleteUser,
  updateUserProfile,
  getUserProfile,
  getCurrentUser,
} from "../controllers/userController.js";
import adminAuth from "../middleware/adminAuth.js";
import authUser from "../middleware/auth.js";

const userRouter = express.Router();

userRouter.post("/register", registerUser);
userRouter.post("/login", loginUser);
userRouter.post("/admin", adminLogin);

// route cho user
userRouter.get("/profile", authUser, getUserProfile);
userRouter.put("/profile", authUser, updateUserProfile);
userRouter.get("/current", authUser, getCurrentUser);

// route admin
userRouter.post("/admin/users", adminAuth, createUser);
userRouter.get("/admin/users", adminAuth, getAllUsers);
userRouter.get("/admin/users/:userId", adminAuth, getUserById);
userRouter.put("/admin/users/:userId", adminAuth, updateUser);
userRouter.delete("/admin/users/:userId", adminAuth, deleteUser);

export default userRouter;

```

### frontend\eslint.config.js
```js
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'

export default [
  { ignores: ['dist'] },
  {
    files: ['**/*.{js,jsx}'],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    plugins: {
      'react-hooks': reactHooks,
      'react-refresh': reactRefresh,
    },
    rules: {
      ...js.configs.recommended.rules,
      ...reactHooks.configs.recommended.rules,
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
      'react-refresh/only-export-components': [
        'warn',
        { allowConstantExport: true },
      ],
    },
  },
]

```

### frontend\postcss.config.js
```js
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}

```

### frontend\tailwind.config.js
```js
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      fontFamily: {
        'sans': ['Roboto', 'sans-serif'],
        'display': ['Prata', 'serif'],
      },
      colors: {
        primary: {
          50: '#eff6ff',
          500: '#3b82f6',
          600: '#2563eb',
          700: '#1d4ed8',
        },
        secondary: {
          50: '#faf5ff',
          500: '#8b5cf6',
          600: '#7c3aed',
          700: '#6d28d9',
        }
      },
      animation: {
        'float': 'float 6s ease-in-out infinite',
        'slideInUp': 'slideInUp 0.5s ease-out',
        'fadeIn': 'fadeIn 0.3s ease-out',
      },
      keyframes: {
        float: {
          '0%, 100%': { transform: 'translateY(0px)' },
          '50%': { transform: 'translateY(-20px)' },
        },
        slideInUp: {
          '0%': { transform: 'translateY(20px)', opacity: '0' },
          '100%': { transform: 'translateY(0px)', opacity: '1' },
        },
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        }
      },
      backdropBlur: {
        xs: '2px',
      }
    },
  },
  plugins: [],
}
```

### frontend\vite.config.js
```js
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
  server: { port: 5173}
})

```

### frontend\src\App.jsx
```jsx
import { Route, Routes } from "react-router-dom";
import { ToastContainer } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";
import Footer from "./components/Footer";
import Navbar from "./components/Navbar";
import ProtectedRoute from "./components/ProtectedRoute";
import SearchBar from "./components/SearchBar";
import About from "./pages/About";
import Cart from "./pages/Cart";
import Collection from "./pages/Collection";
import Contact from "./pages/Contact";
import Home from "./pages/Home";
import Login from "./pages/Login";
import Orders from "./pages/Orders";
import PlaceOrder from "./pages/PlaceOrder";
import Product from "./pages/Product";
import Profile from "./pages/Profile";
import Verify from "./pages/Verify";

const App = () => {

 
  return (
    <div className="px-4 sm:px-[5vw] md:px-[7vw] lg:px-[9vw]">
      <ToastContainer />
      <Navbar />
      <SearchBar />
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/collection" element={<Collection />} />
        <Route path="/about" element={<About />} />
        <Route path="/contact" element={<Contact />} />
        <Route path="/product/:productId" element={<Product />} />
        <Route path="/cart" element={<Cart />} />
        <Route path="/login" element={<Login />} />
        <Route path="/place-order" element={<PlaceOrder />} />
        <Route path="/orders" element={<Orders />} />
        <Route path="/verify" element={<Verify />} />
        <Route
          path="/profile"
          element={
            <ProtectedRoute>
              <Profile />
            </ProtectedRoute>
          }
        />
      </Routes>
      <Footer />
    </div>
  );
};

export default App;

```

### frontend\src\main.jsx
```jsx
import React from 'react'
import ReactDOM from 'react-dom/client'
import './index.css'
import App from './App.jsx'
import { BrowserRouter } from 'react-router-dom'
import ShopContextProvider from './context/ShopContext.jsx'

ReactDOM.createRoot(document.getElementById('root')).render(
  <BrowserRouter>
  <ShopContextProvider>
     <App />
  </ShopContextProvider>
  </BrowserRouter>,
)

```

### frontend\src\assets\assets.js
```js
import p_img1 from './p_img1.webp'
import p_img1_1 from './p_img1_1.webp'
import p_img1_2 from './p_img1_2.webp'
import p_img2_1 from './p_img2.webp'
import p_img2_2 from './p_img2_1.webp'
import p_img2_3 from './p_img2_3.webp'
import p_img2_5 from './p_img2_5.webp'
import p_img3 from './p_img3.webp'
import p_img3_1 from './p_img3_1.webp'
import p_img3_2 from './p_img3_2.webp'
import p_img4 from './p_img4.webp'
import p_img4_1 from './p_img4_1.webp'
import p_img4_2 from './p_img4_2.webp'
import p_img5_1 from './p_img5_1.webp'
import p_img5_2 from './p_img5_2.webp'
import p_img5_3 from './p_img5_3.webp'
import p_img6_1 from './p_img6_1.webp'
import p_img6_2 from './p_img6_2.webp'
import p_img6_3 from './p_img6_3.webp'
import p_img6_4 from './p_img6_4.webp'
import p_img7 from './p_img7.webp'
import p_img8 from './p_img8.jpg'
import p_img9 from './p_img9.webp'
import p_img10 from './p_img10.webp'
import p_img11 from './p_img11.webp'
import p_img12 from './p_img12.webp'
import p_img13 from './p_img13.webp'
import p_img14 from './p_img14.webp'
import p_img15 from './p_img15.webp'
import p_img16 from './p_img16.webp'
import p_img17 from './p_img17.webp'
import p_img18 from './p_img18.webp'
import p_img19 from './p_img19.webp'
import p_img20 from './p_img20.webp'
import p_img21 from './p_img21.webp'
import p_img22 from './p_img22.webp'
import p_img23 from './p_img23.webp'

import p_img25 from './p_img25.webp'
import p_img26 from './p_img26.webp'




import logo from './logo_tlook.png'
import hero_img from './hero_img.png'
import cart_icon from './cart_icon.png'
import bin_icon from './bin_icon.png'
import dropdown_icon from './dropdown_icon.png'
import exchange_icon from './exchange_icon.png'
import profile_icon from './profile_icon.png'
import quality_icon from './quality_icon.png'
import search_icon from './search_icon.png'
import star_dull_icon from './star_dull_icon.png'
import star_icon from './star_icon.png'
import support_img from './support_img.png'
import menu_icon from './menu_icon.png'
import about_img from './about_img.png'
import contact_img from './contact_img.png'
import razorpay_logo from './razorpay_logo.png'
import stripe_logo from './stripe_logo.png'
import cross_icon from './cross_icon.png'

export const assets = {
    logo,
    hero_img,
    cart_icon,
    dropdown_icon,
    exchange_icon,
    profile_icon,
    quality_icon,
    search_icon,
    star_dull_icon,
    star_icon,
    bin_icon,
    support_img,
    menu_icon,
    about_img,
    contact_img,
    razorpay_logo,
    stripe_logo,
    cross_icon
}

export const products =[
    {
        _id: "aaaaa",
        name: "Vợt Cầu Lông Yonex Astrox 100ZZ BP",
        description: "Yonex Astrox 100ZZ BP là cây vợt cao cấp nổi bật với công nghệ Namd giúp tăng độ đàn hồi và sức mạnh cho từng cú đập. Thiết kế đầu nặng, thân vợt siêu cứng mang lại cảm giác kiểm soát tối đa, phù hợp cho vận động viên chuyên nghiệp yêu thích lối đánh tấn công mạnh mẽ.",
        price: 6500000,
        image: [p_img1 ,p_img1_1 ,p_img1_2],
        category: "Yonex",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716634345448,
        bestseller: true
    },
    {
        _id: "aaaab",
        name: "Vợt cầu lông Yonex Arcsaber 7 Pro",
        description: "Yonex Arcsaber 7 Pro là dòng vợt cân bằng giữa sức mạnh và kiểm soát, nổi bật với khung vợt linh hoạt và công nghệ mới giúp tăng độ chính xác cho các pha cầu. Phù hợp cho người chơi trình độ trung bình đến nâng cao muốn kiểm soát thế trận.",
        price: 4309000,
        image: [p_img2_1,p_img2_2,p_img2_3,p_img2_5],
        category: "Yonex",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716621345448,
        bestseller: true
    },
    {
        _id: "aaaac",
        name: "Vợt cầu lông Yonex Nanoflare Junior",
        description: "Yonex Nanoflare Junior là cây vợt nhẹ, dễ điều khiển, thiết kế dành riêng cho trẻ em và người mới chơi. Công nghệ Nanocell Neo giúp tăng tốc độ vung vợt và giảm rung, hỗ trợ tối đa cho các pha cầu nhanh và linh hoạt.",
        price: 1639000,
        image: [p_img3, p_img3_1, p_img3_2],
        category: "Yonex",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716234545448,
        bestseller: true
    },
    {
        _id: "aaaad",
        name: "Vợt cầu lông Yonex Nanoflare 001A 2024",
        description: "Nanoflare 001A 2024 là mẫu vợt mới của Yonex với thiết kế khí động học, giúp tăng tốc độ vung vợt và khả năng phản tạt. Thân vợt dẻo, đầu nhẹ phù hợp cho người chơi yêu thích lối đánh phòng thủ và phản công nhanh.",
        price: 959000,
        image: [p_img4,p_img4_1,p_img4_2],
        category: "Yonex",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716621345448,
        bestseller: true
    },
    {
        _id: "aaaae",
        name: "Vợt cầu lông Yonex Astrox 02 Clear",
        description: "Yonex Astrox 02 Clear là cây vợt tầm trung với công nghệ Rotational Generator System giúp phân bổ trọng lượng tối ưu, tăng sức mạnh cho các cú đập và khả năng kiểm soát cầu. Phù hợp cho người chơi bán chuyên và phong trào.",
        price: 1239000,
        image: [p_img5_1, p_img5_2, p_img5_3],
        category: "Yonex",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716622345448,
        bestseller: true
    },
    {
        _id: "aaaaf",
        name: "Vợt Cầu Lông Victor Ryuga TD/C chính hãng",
        description: "Vợt cầu lông Victor Ryuga TD/C chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả. Đây là cây vợt lý tưởng cho những ai muốn nâng cao trình độ và trải nghiệm thi đấu đỉnh cao.",
        price: 2450000,
        image: [p_img6_1, p_img6_2, p_img6_3, p_img6_4],
        category: "Victor",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716623423448,
        bestseller: true
    },
    {
        _id: "aaaag",
        name: "Vợt cầu lông Yonex Duora 10 LT",
        description: "Vợt cầu lông Yonex Duora 10 LT chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Yonex mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 3240000,
        image: [p_img7],
        category: "Yonex",
        subCategory: "Defense",
        sizes: ["4U", "5U"],
        date: 1716621542448,
        bestseller: false
    },
    {
        _id: "aaaah",
        name: "Vợt Cầu Lông Victor Thruster Ryuga Metallic CPS",
        description: "Vợt cầu lông Victor Thruster Ryuga Metallic CPS chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 3950000,
        image: [p_img8],
        category: "Victor",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716622345448,
        bestseller: false
    },
    {
        _id: "aaaai",
        name: "Vợt Cầu Lông Victor ARS LJH",
        description: "Vợt cầu lông Victor ARS LJH chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 2500000,
        image: [p_img9],
        category: "Victor",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716621235448,
        bestseller: false
    },
    {
        _id: "aaaaj",
        name: "Vợt cầu lông Victor Mjolnir Metallic Limited 2024",
        description: "Vợt cầu lông Victor Mjolnir Metallic Limited 2024 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 4650000,
        image: [p_img10],
        category: "Victor",
        subCategory: "Defense",
        sizes: ["3U", "4U"],
        date: 1716622235448,
        bestseller: false
    },
     {
        _id: "aaaan",
        name: "Vợt cầu lông Lining Aeronaut 9000C",
        description: "Vợt cầu lông Lining Aeronaut 9000C chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Lining mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 3700000,
        image: [p_img11],
        category: "Lining",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716626645448,
        bestseller: false
    },
    {
        _id: "aaaal",
        name: "Vợt cầu lông Yonex Arcsaber 11",
        description: "Vợt cầu lông Yonex Arcsaber 11 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Yonex mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 150,
        image: [p_img12],
        category: "Yonex",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716624445448,
        bestseller: false
    },
    {
        _id: "aaaam",
        name: "Vợt cầu lông Victor Jetspeed S 12",
        description: "Vợt cầu lông Victor Jetspeed S 12 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 2150000 ,
        image: [p_img13],
        category: "Victor",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716625545448,
        bestseller: false
    },
    {
        _id: "aaaav",
        name: "Vợt cầu lông Victor HX 900",
        description: "Vợt cầu lông Victor Hypernano X 900 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 2240000,
        image: [p_img14],
        category: "Victor",
        subCategory: "Defense",
        sizes: ["4U", "5U"],
        date: 1716635445448,
        bestseller: false
    },
    {
        _id: "aaaao",
        name: "Vợt cầu lông Yonex Nanoray 900",
        description: "Vợt cầu lông Yonex Nanoray 900 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Yonex mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 140,
        image: [p_img15],
        category: "Yonex",
        subCategory: "Defense",
        sizes: ["3U", "4U"],
        date: 1716627745448,
        bestseller: false
    },
     {
        _id: "aaabj",
        name: "Vợt cầu lông Lining Windstorm 72",
        description: "Lining Windstorm 72 là cây vợt siêu nhẹ, phù hợp cho người chơi nữ hoặc trẻ em. Thiết kế hiện đại, dễ điều khiển, giúp người chơi kiểm soát cầu tốt và giảm mỏi tay khi thi đấu lâu.",
        price: 3700000,
        image: [p_img16],
        category: "Lining",
        subCategory: "Defense",
        sizes: ["4U", "5U"],
        date: 1716650845448,
        bestseller: false
    },
    {
        _id: "aaaaq",
        name: "Vợt cầu lông Yonex Duora Z-Strike",
        description: "Vợt cầu lông Yonex Duora Z-Strike chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Yonex mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 4549000,
        image: [p_img17],
        category: "Yonex",
        subCategory: "Defense",
        sizes: ["3U", "4U"],
        date: 1716629945448,
        bestseller: false
    },
  {
        _id: "aaaav",
        name: "Vợt cầu lông Victor HX 900",
        description: "Vợt cầu lông Victor Hypernano X 900 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 2240000,
        image: [p_img18],
        category: "Victor",
        subCategory: "Defense",
        sizes: ["4U", "5U"],
        date: 1716635445448,
        bestseller: false
    },
    {
        _id: "aaaas",
        name: "Vợt cầu lông Lining Windstorm 78",
        description: "Vợt cầu lông Lining Windstorm 78 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Lining mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 1550000,
        image: [p_img19],
        category: "Lining",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716632145448,
        bestseller: false
    },
    {
        _id: "aaaat",
        name: "Vợt cầu lông Victor Brave Sword 12",
        description: "Vợt cầu lông Victor Brave Sword 12 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 190,
        image: [p_img20],
        category: "Victor",
        subCategory: "Defense",
        sizes: ["3U", "4U"],
        date: 1716633245448,
        bestseller: false
    },
    {
        _id: "aaaau",
        name: "Vợt cầu lông Victor Auraspeed 90K",
        description: "Vợt cầu lông Victor Auraspeed 90K chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 2440000,
        image: [p_img21],
        category: "Victor",
        subCategory: "Balance",
        sizes: ["4U", "5U"],
        date: 1716634345448,
        bestseller: false
    },
    {
        _id: "aaaav",
        name: "Vợt cầu lông Victor HX 900",
        description: "Vợt cầu lông Victor Hypernano X 900 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 2240000,
        image: [p_img22],
        category: "Victor",
        subCategory: "Defense",
        sizes: ["4U", "5U"],
        date: 1716635445448,
        bestseller: false
    },
    {
        _id: "aaaaw",
        name: "Vợt cầu lông Lining Calibar 300",
        description: "Vợt cầu lông Lining Calibar 300 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Lining mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 1500000,
        image: [p_img23],
        category: "Lining",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716636545448,
        bestseller: false
    },
    
    {
        _id: "aaaay",
        name: "Vợt cầu lông Lining 3D Calibar 600",
        description: "Vợt cầu lông Lining 3D Calibar 600 chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Lining mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 2750000,
        image: [p_img25],
        category: "Lining",
        subCategory: "Attack",
        sizes: ["3U", "4U"],
        date: 1716638745448,
        bestseller: false
    },
    {
        _id: "aaaaz",
        name: "Vợt cầu lông Victor DriveX 9X",
        description: "Vợt cầu lông Victor DriveX 9X chính hãng là lựa chọn tuyệt vời cho những người chơi cầu lông chuyên nghiệp và bán chuyên. Sản phẩm nổi bật với thiết kế mạnh mẽ, khung vợt chắc chắn, trợ lực tốt giúp tăng sức mạnh cho từng cú đánh. Công nghệ hiện đại của Victor mang lại cảm giác kiểm soát cầu tối ưu, độ bền cao và khả năng chống rung hiệu quả.",
        price: 1700000,
        image: [p_img26],
        category: "Victor",
        subCategory: "Balance",
        sizes: ["3U", "4U","5U"],
        date: 1716639845448,
        bestseller: false
    },
    
   
]
```

### frontend\src\components\BestSeller.jsx
```jsx
import React, { useContext,useEffect, useState } from 'react'
import { ShopContext } from '../context/ShopContext'
import Title from './Title';
import ProductItem from './ProductItem';
const BestSeller = () => {
    const {products} = useContext(ShopContext);
    const [bestSeller , setBestSeller] = useState([]);
    
    useEffect(() => {
        const bestProduct = products.filter((item) =>(item.bestseller));
        setBestSeller(bestProduct.slice(-10));
    },[products]);



  return (
    <div className='my-10'>
        <div className='text-center py-8 text-3xl'>
            <Title text1={'Sản phẩm '} text2={'bán chạy nhất '} />
           
        </div>

        <div className='grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 gap-y-6'>
            {
                bestSeller.map((item, index) => (
                    <ProductItem key = {index} id={item._id} image={item.image} name={item.name} price={item.price}/>

                ))
            }
        </div>
    </div>
  )
}

export default BestSeller
```

### frontend\src\components\CartTotal.jsx
```jsx
import React, { useContext } from 'react'
import { ShopContext } from '../context/ShopContext'
import Title from './Title';

const CartTotal = () => {

    const {currency , delivery_fee , getCartAmount} = useContext(ShopContext);


  return (
    <div className='w-full'>
        <div className='text-2xl'>
            <Title text1={'Tổng tiền'} text2={'giỏ hàng'} />
        </div>

        <div className='flex flex-col gap-2 mt-2 text-sm'>
            <div className='flex justify-between'>
                <p>Tạm tính</p>
                <p>{getCartAmount().toLocaleString('vi-VN')}{currency}</p>
            </div>
            <hr/>
            <div className='flex justify-between'>
                <p>Phí giao hàng</p>
                <p>{delivery_fee.toLocaleString('vi-VN')}{currency}</p>
            </div>
            <hr />
            <div className='flex justify-between'>
                <b>Tổng tiền</b>
                <b>{getCartAmount() === 0 ? 0 : (getCartAmount() + delivery_fee).toLocaleString('vi-VN')}{currency}</b>
            </div>
        </div>
    </div>
  )
}

export default CartTotal
```

### frontend\src\components\Footer.jsx
```jsx
import React from 'react'
import { assets } from '../assets/assets'

const Footer = () => {
  return (
    <footer className='bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white'>
        {/* Main Footer Content */}
        <div className='max-w-6xl mx-auto px-3 py-6'>
            <div className='flex flex-col md:flex-row justify-between gap-12'>
                {/* Brand Section */}
                <div className='md:w-1/2'>
                    <a href="/" className='inline-block mb-6'>
                        <img src={assets.logo} className='w-40' alt="TLook Logo" />
                    </a>
                    <p className='text-gray-300 text-base leading-relaxed mb-6 max-w-md'>
                        TLOOK cam kết mang đến cho khách hàng những sản phẩm chính hãng, đa dạng, phù hợp với thể trạng người Việt, đồng thời tư vấn đúng – trúng – tận tâm.
                    </p>
                    
                    {/* Social Media */}
                    <div className='flex items-center gap-4'>
                        <p className='text-gray-400 font-medium'>Theo dõi chúng tôi:</p>
                        <div className='flex gap-3'>
                            <a href="#" className='w-10 h-10 bg-blue-600 hover:bg-blue-700 rounded-full flex items-center justify-center transition-colors'>
                                <svg className='w-5 h-5 fill-current' viewBox='0 0 24 24'>
                                    <path d='M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z'/>
                                </svg>
                            </a>
                            <a href="#" className='w-10 h-10 bg-blue-800 hover:bg-blue-900 rounded-full flex items-center justify-center transition-colors'>
                                <svg className='w-5 h-5 fill-current' viewBox='0 0 24 24'>
                                    <path d='M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z'/>
                                </svg>
                            </a>
                            <a href="#" className='w-10 h-10 bg-pink-600 hover:bg-pink-700 rounded-full flex items-center justify-center transition-colors'>
                                <svg className='w-5 h-5 fill-current' viewBox='0 0 24 24'>
                                    <path d='M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.347-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017.001z'/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                {/* Right Side - Links and Contact */}
                <div className='md:w-1/2 flex flex-col sm:flex-row justify-between gap-8'>
                    {/* Company Links */}
                    <div>
                        <h3 className='text-xl font-bold mb-6 text-white relative'>
                            CÔNG TY
                            <div className='absolute bottom-0 left-0 w-12 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 -mb-2'></div>
                        </h3>
                        <ul className='space-y-3'>
                            <li>
                                <a href="/about" className='text-gray-300 hover:text-white hover:translate-x-1 transition-all duration-200 flex items-center gap-2'>
                                    <span className='text-blue-400'>→</span>
                                    Giới thiệu về chúng tôi
                                </a>
                            </li>
                            <li>
                                <a href="/contact" className='text-gray-300 hover:text-white hover:translate-x-1 transition-all duration-200 flex items-center gap-2'>
                                    <span className='text-blue-400'>→</span>
                                    Liên hệ với chúng tôi
                                </a>
                            </li>
                            <li>
                                <a href="#" className='text-gray-300 hover:text-white hover:translate-x-1 transition-all duration-200 flex items-center gap-2'>
                                    <span className='text-blue-400'>→</span>
                                    Chính sách vận chuyển
                                </a>
                            </li>
                            <li>
                                <a href="#" className='text-gray-300 hover:text-white hover:translate-x-1 transition-all duration-200 flex items-center gap-2'>
                                    <span className='text-blue-400'>→</span>
                                    Chính sách bảo mật
                                </a>
                            </li>
                        </ul>
                    </div>

                    {/* Contact Info */}
                    <div>
                        <h3 className='text-xl font-bold mb-6 text-white relative'>
                            LIÊN HỆ
                            <div className='absolute bottom-0 left-0 w-12 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 -mb-2'></div>
                        </h3>
                        <div className='space-y-4'>
                            <div className='flex items-center gap-3 text-gray-300'>
                                <div className='w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0'>
                                    <svg className='w-4 h-4 fill-current text-white' viewBox='0 0 24 24'>
                                        <path d='M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z'/>
                                    </svg>
                                </div>
                                <a href="tel:0353542949" className='hover:text-white transition-colors'>
                                    0353542949
                                </a>
                            </div>
                            
                            <div className='flex items-center gap-3 text-gray-300'>
                                <div className='w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0'>
                                    <svg className='w-4 h-4 fill-current text-white' viewBox='0 0 24 24'>
                                        <path d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/>
                                    </svg>
                                </div>
                                <a href="mailto:duythien2902@gmail.com" className='hover:text-white transition-colors break-all'>
                                    duythien2902@gmail.com
                                </a>
                            </div>
                            
                            <div className='flex items-start gap-3 text-gray-300'>
                                <div className='w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5'>
                                    <svg className='w-4 h-4 fill-current text-white' viewBox='0 0 24 24'>
                                        <path d='M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z'/>
                                    </svg>
                                </div>
                                <span className='leading-relaxed'>
                                    123 Đường ABC, Quận XYZ<br/>
                                    Thành phố Hồ Chí Minh
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {/* Bottom Bar */}
        <div className='border-t border-gray-700'>
            <div className='max-w-6xl mx-auto px-4 py-4'>
                <div className='flex flex-col md:flex-row justify-between items-center gap-4'>
                    <p className='text-gray-400 text-sm'>
                        © 2024 TLook Shop. Tất cả quyền được bảo lưu.
                    </p>
                    <div className='flex items-center gap-6 text-sm'>
                        <a href="#" className='text-gray-400 hover:text-white transition-colors'>
                            Điều khoản sử dụng
                        </a>
                        <a href="#" className='text-gray-400 hover:text-white transition-colors'>
                            Chính sách bảo mật
                        </a>
                        <a href="#" className='text-gray-400 hover:text-white transition-colors'>
                            Cookie Policy
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
  )
}

export default Footer
```

### frontend\src\components\Hero.jsx
```jsx
import React from 'react'
import { assets } from '../assets/assets'

const Hero = () => {
  return (
    <div className='relative flex flex-col sm:flex-row bg-gradient-to-br from-blue-50 via-white to-purple-50 rounded-2xl shadow-lg overflow-hidden'>
        {/* Background Pattern */}
        <div className="absolute inset-0 opacity-30">
          <div className="absolute inset-0 bg-gradient-to-br from-blue-100/20 via-transparent to-purple-100/20"></div>
        </div>
        
        {/* Hero Left Side */}
        <div className='relative w-full sm:w-1/2 flex items-center justify-center p-10 sm:p-16 lg:p-20'>
            <div className='text-gray-800 max-w-lg'>
                <div className='flex items-center gap-3 mb-6'>
                    <div className='w-12 md:w-16 h-[3px] bg-gradient-to-r from-blue-500 to-purple-500 rounded-full'></div>
                    <p className='font-medium text-sm md:text-base text-gray-600 uppercase tracking-wide'>Sản phẩm bán chạy nhất</p>
                </div>
                
                <h1 className='font-bold text-4xl sm:text-5xl lg:text-6xl leading-tight mb-8 bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent'>
                    Hàng mới nhất
                </h1>
                
                <p className='text-gray-600 text-lg mb-8 leading-relaxed'>
                    Khám phá bộ sưu tập thời trang mới nhất với những thiết kế độc đáo và chất lượng cao.
                </p>
                
                <div className='flex items-center gap-3 group cursor-pointer'>
                    <span className='font-semibold text-lg text-gray-800 group-hover:text-blue-600 transition-colors'>Mua sắm ngay</span>
                    <div className='w-12 md:w-16 h-[2px] bg-gradient-to-r from-blue-500 to-purple-500 rounded-full group-hover:w-20 transition-all duration-300'></div>
                    <div className='w-3 h-3 border-2 border-blue-500 border-r-0 border-b-0 rotate-45 group-hover:translate-x-1 transition-transform'></div>
                </div>
            </div>
        </div>
        
        {/* Hero Right Side */}
        <div className='relative w-full sm:w-1/2 overflow-hidden'>
            <div className='relative h-full'>
                <img 
                    className='w-full h-full object-cover transform hover:scale-105 transition-transform duration-700' 
                    src={assets.hero_img} 
                    alt="Fashion Collection" 
                />
                <div className='absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent'></div>
                
                {/* Floating Elements */}
                <div className='absolute top-8 right-8 bg-white/90 backdrop-blur-sm rounded-full p-4 shadow-lg'>
                    <div className='w-4 h-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse'></div>
                </div>
                
                <div className='absolute bottom-8 left-8 bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg max-w-xs'>
                    <div className='flex items-center gap-3'>
                        <div className='flex -space-x-2'>
                            <div className='w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full border-2 border-white'></div>
                            <div className='w-8 h-8 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full border-2 border-white'></div>
                            <div className='w-8 h-8 bg-gradient-to-r from-pink-400 to-red-400 rounded-full border-2 border-white'></div>
                        </div>
                        <div>
                            <p className='text-sm font-semibold text-gray-800'>+1000</p>
                            <p className='text-xs text-gray-600'>Khách hàng hài lòng</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
  )
}

export default Hero
```

### frontend\src\components\LatestCollection.jsx
```jsx
import React , {useState, useContext, useEffect} from 'react'
import { ShopContext } from '../context/ShopContext';
import Title from './Title';
import ProductItem from './ProductItem';
const LatestCollection = () => {

  const { products } = useContext(ShopContext);
  const [latestProducts, setLatestProducts] = useState([]);

  useEffect(()=>{
    setLatestProducts (products.slice(-10));
  },[products]);


  return (
    <div className='my-10'>
        <div className='text-center py-8 text-3xl'>
            <Title text1={'Bộ sưu tập '} text2={'Mới nhất '} />
        </div>


        {/* {Rendering Products} */}
        <div className='grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 gap-y-6'>
          {
            latestProducts.map((item,index)=>(
              <ProductItem key = {index} id={item._id} image={item.image} name={item.name} price={item.price}/>
            ))
          }
        </div>

    </div>
  )
}

export default LatestCollection
```

### frontend\src\components\Loading.jsx
```jsx
import React from 'react'

const Loading = ({ size = 'medium', text = 'Đang tải...', fullScreen = false }) => {
  const sizeClasses = {
    small: 'w-6 h-6',
    medium: 'w-12 h-12',
    large: 'w-16 h-16'
  }

  const LoadingComponent = (
    <div className='flex flex-col items-center justify-center gap-4'>
      <div className={`${sizeClasses[size]} border-4 border-gray-200 border-t-blue-500 rounded-full animate-spin`}></div>
      {text && (
        <p className='text-gray-600 text-sm font-medium animate-pulse'>{text}</p>
      )}
    </div>
  )

  if (fullScreen) {
    return (
      <div className='fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50'>
        {LoadingComponent}
      </div>
    )
  }

  return LoadingComponent
}

export default Loading

```

### frontend\src\components\Navbar.jsx
```jsx
import React, { useContext, useState } from "react";
import { assets } from "../assets/assets";
import { Link, NavLink } from "react-router-dom";
import { ShopContext } from "../context/ShopContext";

const Navbar = () => {
  const [visible, setVisible] = useState(false);
  const { setShowSearch, getCartCount, navigate, token, setToken, setCartItems, user, setUser } = useContext(ShopContext);

  const logout = () => {
    navigate("/login");
    localStorage.removeItem("token");
    localStorage.removeItem("user");
    setToken("");
    setCartItems({});
    setUser && setUser(null);
  };

  return (
    <div className="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-sm border-b border-gray-100">
      <div className="flex items-center justify-between py-4 px-4 sm:px-6 lg:px-8 font-medium">
        <Link to="/" className="flex items-center">
          <img src={assets.logo} className="w-36 hover:scale-105 transition-transform" alt="TLook Logo" />
        </Link>
        
        <ul className="hidden md:flex items-center gap-8 text-sm font-medium">
          <NavLink to="/" className="relative py-2 px-3 text-gray-700 hover:text-blue-600 transition-colors group">
            <span>TRANG CHỦ</span>
            <div className="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"></div>
          </NavLink>
          <NavLink to="/collection" className="relative py-2 px-3 text-gray-700 hover:text-blue-600 transition-colors group">
            <span>SẢN PHẨM</span>
            <div className="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"></div>
          </NavLink>
          <NavLink to="/about" className="relative py-2 px-3 text-gray-700 hover:text-blue-600 transition-colors group">
            <span>GIỚI THIỆU</span>
            <div className="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"></div>
          </NavLink>
          <NavLink to="/contact" className="relative py-2 px-3 text-gray-700 hover:text-blue-600 transition-colors group">
            <span>LIÊN HỆ</span>
            <div className="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 group-hover:w-full transition-all duration-300"></div>
          </NavLink>
        </ul>

        <div className="flex items-center gap-4">
          {/* Search Button */}
          <button 
            onClick={() => setShowSearch(true)} 
            className="p-2 hover:bg-gray-100 rounded-full transition-colors"
            aria-label="Search"
          >
            <img src={assets.search_icon} className="w-5 h-5" alt="Search" />
          </button>

          {/* Profile Dropdown */}
          <div className="group relative">
            <div className="flex items-center gap-2 cursor-pointer p-2 hover:bg-gray-100 rounded-full transition-colors">
              <img
                onClick={() => (token ? null : navigate("/login"))}
                src={assets.profile_icon}
                className="w-5 h-5"
                alt="Profile"
              />
              {user && token && (
                <span className="hidden sm:block text-sm font-medium text-gray-700">
                  {user.name}
                </span>
              )}
            </div>
            
            {/* Dropdown Menu */}
            {token && (
              <div className="group-hover:block hidden absolute right-0 pt-2 z-10">
                <div className="bg-white rounded-lg shadow-lg border border-gray-200 py-2 w-48">
                  <button 
                    onClick={() => navigate("/profile")} 
                    className="w-full text-left px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors flex items-center gap-2"
                  >
                    <span>👤</span>
                    Hồ sơ của tôi
                  </button>
                  <button 
                    onClick={() => navigate("/orders")} 
                    className="w-full text-left px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors flex items-center gap-2"
                  >
                    <span>📦</span>
                    Đơn hàng của tôi
                  </button>
                  <hr className="my-1 border-gray-100" />
                  <button 
                    onClick={logout} 
                    className="w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition-colors flex items-center gap-2"
                  >
                    <span>🚪</span>
                    Đăng xuất
                  </button>
                </div>
              </div>
            )}
          </div>

          {/* Cart */}
          <Link to="/cart" className="relative p-2 hover:bg-gray-100 rounded-full transition-colors group">
            <img src={assets.cart_icon} className="w-5 h-5 group-hover:scale-110 transition-transform" alt="Cart" />
            {getCartCount() > 0 && (
              <span className="absolute -top-1 -right-1 w-5 h-5 text-center leading-5 text-white bg-gradient-to-r from-blue-500 to-purple-500 rounded-full text-xs font-bold shadow-md">
                {getCartCount()}
              </span>
            )}
          </Link>

          {/* Mobile Menu Button */}
          <button 
            onClick={() => setVisible(true)} 
            className="md:hidden p-2 hover:bg-gray-100 rounded-full transition-colors"
            aria-label="Menu"
          >
            <img src={assets.menu_icon} className="w-5 h-5" alt="Menu" />
          </button>
        </div>
      </div>

      {/* Mobile Sidebar */}
      {visible && (
        <div className="fixed top-0 right-0 h-full bg-gradient-to-br from-white via-blue-50 to-white border-l-4 border-blue-500 shadow-2xl z-[9999] w-80 md:hidden animate-slideInRight">
          <div className="flex flex-col h-full bg-white/95 backdrop-blur-sm">
            {/* Header */}
            <div className="flex items-center justify-between p-6 border-b-2 border-blue-100 bg-gradient-to-r from-blue-500 to-purple-600 text-white">
              <img src={assets.logo} className="w-24" alt="TLook Logo" />
              <button 
                onClick={() => setVisible(false)} 
                className="p-2 hover:bg-white/20 rounded-full transition-colors text-white"
                aria-label="Close menu"
              >
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>

          {/* Navigation Links */}
          <nav className="flex-1 py-6 bg-white">
            <NavLink 
              onClick={() => setVisible(false)} 
              className="flex items-center gap-3 px-6 py-4 text-gray-800 hover:bg-gradient-to-r hover:from-blue-500 hover:to-purple-500 hover:text-white border-l-4 border-transparent hover:border-white transition-all duration-300 font-medium" 
              to="/"
            >
              TRANG CHỦ
            </NavLink>
            <NavLink 
              onClick={() => setVisible(false)} 
              className="flex items-center gap-3 px-6 py-4 text-gray-800 hover:bg-gradient-to-r hover:from-blue-500 hover:to-purple-500 hover:text-white border-l-4 border-transparent hover:border-white transition-all duration-300 font-medium" 
              to="/collection"
            >
              SẢN PHẨM
            </NavLink>
            <NavLink 
              onClick={() => setVisible(false)} 
              className="flex items-center gap-3 px-6 py-4 text-gray-800 hover:bg-gradient-to-r hover:from-blue-500 hover:to-purple-500 hover:text-white border-l-4 border-transparent hover:border-white transition-all duration-300 font-medium" 
              to="/about"
            >
              GIỚI THIỆU
            </NavLink>
            <NavLink 
              onClick={() => setVisible(false)} 
              className="flex items-center gap-3 px-6 py-4 text-gray-800 hover:bg-gradient-to-r hover:from-blue-500 hover:to-purple-500 hover:text-white border-l-4 border-transparent hover:border-white transition-all duration-300 font-medium" 
              to="/contact"
            >
              LIÊN HỆ
            </NavLink>
          </nav>

          {/* User Info */}
          {user && token && (
            <div className="border-t-2 border-blue-100 bg-gradient-to-r from-gray-50 to-blue-50 p-6">
              <div className="flex items-center gap-3 mb-4">
                <div className="w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg">
                  <span className="text-white font-bold text-lg">
                    {user.name.charAt(0).toUpperCase()}
                  </span>
                </div>
                <div>
                  <p className="font-bold text-gray-900 text-base">{user.name}</p>
                  <p className="text-sm text-gray-600">{user.email}</p>
                </div>
              </div>
              <button 
                onClick={logout} 
                className="w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"
              >
                Đăng xuất
              </button>
            </div>
          )}
          </div>
        </div>
      )}

      {/* Backdrop */}
      {visible && (
        <div 
          className="fixed inset-0 bg-black bg-opacity-60 z-[9998] md:hidden backdrop-blur-sm" 
          onClick={() => setVisible(false)}
        ></div>
      )}
    </div>
  );
};

export default Navbar;

```

### frontend\src\components\NewsletterBox.jsx
```jsx
import React from 'react'

const NewsletterBox = () => {

    const onSubmitHandler = (event) => {
    event.preventDefault();
    }

  return (
    <div className='text-center py-1'>
        <p className='text-2xl font-medium text-gray-800'>Đăng ký ngay & giảm giá 15%</p>
        <p className='text-gray-600 mt-3 text-[16px]'>
            Chỉ cần đăng ký tài khoản, bạn sẽ nhận ngay mã giảm giá 15% cho đơn hàng đầu tiên.
            Nhanh tay – số lượng ưu đãi có hạn!
        </p>
        <form onSubmit={onSubmitHandler} className='w-full sm:w-1/2 flex items-center gap-3 mx-auto my-6 border pl-3'>
            <input className='w-full sm:flex-1 outline-none' type="email" placeholder='Nhập email của bạn' required />
            <button type='submit' className='bg-black text-white text-xs py-4 px-10'>Đăng ký </button>
        </form>
    </div>
  )
}

export default NewsletterBox
```

### frontend\src\components\OurPolicy.jsx
```jsx
import React from 'react'
import { assets } from '../assets/assets'

const OurPolicy = () => {
  return (
    <div className='flex flex-col sm:flex-row justify-around gap-12 sm:gap-2 text-center py-20 text-xs sm:text-sm md:text-base text-gray-700'>

      <div >
        <img src={assets.exchange_icon} className='w-12 m-auto mb-5' alt="" />
        <p className='font-semibold'>Chính sách đổi trả dễ dàng</p>
        <p className='text-gray-400'>Chúng tôi cung cấp chính sách đổi trả dễ dàng</p>
      </div>
      <div >
        <img src={assets.quality_icon} className='w-12 m-auto mb-5' alt="" />
        <p className='font-semibold'>Chính sách đổi trả trong vòng 7 ngày</p>
        <p className='text-gray-400'>Chúng tôi cung cấp chính sách trả hàng miễn phí trong 7 ngày</p>
      </div>
      <div >
        <img src={assets.support_img} className='w-12 m-auto mb-5' alt="" />
        <p className='font-semibold'>Hỗ trợ khách hàng tốt nhất</p>
        <p className='text-gray-400'>Chúng tôi cung cấp hỗ trợ khách hàng 24/7</p>
      </div>
      
    </div>
  )
}

export default OurPolicy
```

### frontend\src\components\ProductItem.jsx
```jsx
import React, { useContext, useState } from 'react'
import { ShopContext } from '../context/ShopContext'
import { Link } from 'react-router-dom'

const ProductItem = ({id, image, name, price}) => {
    const {currency} = useContext(ShopContext);
    const [isLoading, setIsLoading] = useState(true);

    return (
        <Link 
            className='group block bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100' 
            to={`/product/${id}`}
        >
            {/* Image Container */}
            <div className='relative overflow-hidden bg-gray-50 aspect-square'>
                {/* Loading Skeleton */}
                {isLoading && (
                    <div className='absolute inset-0 bg-gray-200 animate-pulse'></div>
                )}
                
                <img 
                    className='w-full h-full object-cover group-hover:scale-105 transition-transform duration-300' 
                    src={image[0]} 
                    alt={name}
                    onLoad={() => setIsLoading(false)}
                    style={{display: isLoading ? 'none' : 'block'}}
                />
                
                {/* Overlay với text "Chi tiết" */}
                <div className='absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center'>
                    <span className='text-white text-lg font-semibold opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300'>
                        Chi tiết
                    </span>
                </div>
                
                {/* Sale Badge */}
                <div className='absolute top-3 left-3 bg-gradient-to-r from-red-500 to-pink-500 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg'>
                    Mới
                </div>
            </div>
            
            {/* Product Info */}
            <div className='p-4'>
                <h3 className='text-gray-800 font-medium text-sm leading-5 mb-2 line-clamp-2 hover:text-blue-600 transition-colors'>
                    {name}
                </h3>
                
                <div className='flex items-center justify-between'>
                    <p className='text-lg font-bold text-red-600'>
                        {price.toLocaleString('vi-VN')}{currency}
                    </p>
                    
                    {/* Rating Stars */}
                    <div className='flex items-center gap-1'>
                        {[...Array(5)].map((_, i) => (
                            <svg 
                                key={i} 
                                className='w-3 h-3 text-yellow-400 fill-current' 
                                viewBox='0 0 20 20'
                            >
                                <path d='M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z' />
                            </svg>
                        ))}
                        <span className='text-xs text-gray-500 ml-1'>5.0</span>
                    </div>
                </div>
            </div>
        </Link>
    )
}

export default ProductItem
```

### frontend\src\components\ProtectedRoute.jsx
```jsx
import React, { useContext } from "react";
import { ShopContext } from "../context/ShopContext";

const ProtectedRoute = ({ children }) => {
  const { token, navigate } = useContext(ShopContext);

  if (!token) {
    navigate("/login");
    return null;
  }

  return children;
};

export default ProtectedRoute;

```

### frontend\src\components\QuickAddModal.jsx
```jsx
import React, { useContext, useState } from 'react'
import { ShopContext } from '../context/ShopContext'

const QuickAddModal = ({ isOpen, onClose, product }) => {
    const { addToCart } = useContext(ShopContext);
    const [selectedSize, setSelectedSize] = useState('');
    const [isAdding, setIsAdding] = useState(false);

    const handleAddToCart = async () => {
        if (!selectedSize) {
            return;
        }
        
        setIsAdding(true);
        try {
            await addToCart(product._id, selectedSize);
            onClose();
            setSelectedSize('');
        } catch (error) {
            console.error('Error adding to cart:', error);
        }
        setIsAdding(false);
    };

    if (!isOpen) return null;

    return (
        <div className='fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4'>
            <div className='bg-white rounded-2xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto'>
                {/* Header */}
                <div className='flex justify-between items-start mb-4'>
                    <h3 className='text-lg font-bold text-gray-800'>Chọn size sản phẩm</h3>
                    <button 
                        onClick={onClose}
                        className='p-1 hover:bg-gray-100 rounded-full transition-colors'
                    >
                        <svg className='w-6 h-6' fill='none' stroke='currentColor' viewBox='0 0 24 24'>
                            <path strokeLinecap='round' strokeLinejoin='round' strokeWidth={2} d='M6 18L18 6M6 6l12 12' />
                        </svg>
                    </button>
                </div>

                {/* Product Info */}
                <div className='flex gap-4 mb-6'>
                    <img 
                        src={product?.image?.[0]} 
                        alt={product?.name}
                        className='w-20 h-20 object-cover rounded-lg'
                    />
                    <div>
                        <h4 className='font-medium text-gray-800 mb-1'>{product?.name}</h4>
                        <p className='text-lg font-bold text-red-600'>
                            {product?.price?.toLocaleString('vi-VN')} đ
                        </p>
                    </div>
                </div>

                {/* Size Selection */}
                <div className='mb-6'>
                    <p className='font-medium text-gray-800 mb-3'>Chọn size:</p>
                    <div className='grid grid-cols-3 gap-2'>
                        {product?.sizes?.map((size) => (
                            <button
                                key={size}
                                onClick={() => setSelectedSize(size)}
                                className={`py-2 px-4 rounded-lg font-medium transition-colors ${
                                    selectedSize === size
                                        ? 'bg-blue-500 text-white'
                                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                }`}
                            >
                                {size}
                            </button>
                        ))}
                    </div>
                    {!product?.sizes || product.sizes.length === 0 ? (
                        <p className='text-gray-500 text-sm'>Không có size khả dụng</p>
                    ) : null}
                </div>

                {/* Action Buttons */}
                <div className='flex gap-3'>
                    <button
                        onClick={onClose}
                        className='flex-1 py-3 px-4 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors'
                    >
                        Hủy
                    </button>
                    <button
                        onClick={handleAddToCart}
                        disabled={!selectedSize || isAdding}
                        className='flex-1 py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2'
                    >
                        {isAdding ? (
                            <>
                                <div className='w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin'></div>
                                Đang thêm...
                            </>
                        ) : (
                            'Thêm vào giỏ hàng'
                        )}
                    </button>
                </div>
            </div>
        </div>
    )
}

export default QuickAddModal

```

### frontend\src\components\RelatedProducts.jsx
```jsx
import React, { useState, useContext, useEffect } from 'react'
import { ShopContext } from '../context/ShopContext'
import Title from './Title';
import ProducItem from './ProductItem';

const RelatedProducts = ({category,subCategory}) => {

    const {products} = useContext(ShopContext);
    const[related,setRelated] = useState([]);

    useEffect(() => {

        if(products.length > 0){

            let productsCopy = products.slice();

            productsCopy = productsCopy.filter((item) => category === item.category );
            productsCopy = productsCopy.filter((item) => subCategory === item.subCategory );

            setRelated(productsCopy.slice(0,5));
        }

    },[products])


  return (
    <div className='my-24'>
      <div className='text-center text-3xl py-2'>
        <Title text1={'Sản phẩm '} text2={'liên quan'} />
      </div>
      <div className='grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 gap-y-6'>
        {related.map((item,index)=>(
            <ProducItem key ={index} id={item._id} image={item.image} name={item.name} price={item.price}/>
        ))}
      </div>
    </div>
  )
}

export default RelatedProducts
```

### frontend\src\components\SearchBar.jsx
```jsx
import React, { useState, useContext, useEffect } from 'react'
import { ShopContext } from '../context/ShopContext'
import { assets } from '../assets/assets';
import { useLocation } from 'react-router-dom';
const SearchBar = () => {

    const {search, setSearch, showSearch, setShowSearch} = useContext(ShopContext);
    const [visible,setVisible] = useState(false);
    const location = useLocation();

    useEffect(() => {
        if(location.pathname.includes('collection')){
            setVisible(true);
        }
        else{
            setVisible(false);
        }
    },[location])


  return showSearch && visible  ? (
    <div className='border-t border-b bg-gray-50 text-center'>
        <div className='inline-flex items-center justify-center border border-gray-400 px-5 p-2 my-5 mx-3 rounded-full w-3/4 sm:w-1/2 '>
            <input value={search} onChange={(e) => setSearch(e.target.value)} className='flex-1 outline-none bg-inherrit text-sm' type="text" placeholder='Search' />
            <img className='w-4' src={assets.search_icon} alt="" />
        </div>
        <img onClick={() => setShowSearch(false)} className='inline w-3 cursor-pointer' src={assets.cross_icon} alt="" />
    </div>
  ) : null
}

export default SearchBar
```

### frontend\src\components\Title.jsx
```jsx
import React from 'react'

const Title = ({text1, text2}) => {
  return (
    <div className='flex flex-col items-center text-center mb-8'>
        <div className='flex items-center gap-3 mb-4'>
            <div className='w-8 h-[2px] bg-gradient-to-r from-transparent via-blue-500 to-blue-500'></div>
            <h2 className='text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800'>
                {text1} 
                <span className='text-blue-600 ml-2'>
                    {text2}
                </span>
            </h2>
            <div className='w-8 h-[2px] bg-gradient-to-l from-transparent via-purple-500 to-purple-500'></div>
        </div>
        <p className='text-gray-600 max-w-2xl text-sm sm:text-base leading-relaxed'>
            Khám phá bộ sưu tập tuyệt vời với những sản phẩm chất lượng cao được tuyển chọn kỹ lưỡng
        </p>
    </div>
  )
}

export default Title
```

### frontend\src\context\ShopContext.jsx
```jsx
import { createContext, useEffect, useState } from "react";
import { toast } from "react-toastify";
import { useNavigate } from "react-router-dom";
import axios from 'axios';

export const ShopContext = createContext();

const ShopContextProvider = (props) => {

    const currency = ' đ';
    const delivery_fee = 30000;
    const backendUrl = import.meta.env.VITE_BACKEND_URL
    const [search,setSearch] = useState('');
    const [showSearch , setShowSearch] = useState(false);
    const[cartItems , setCartItems] = useState({});
    const [products , setProducts] = useState([]);
    const [token ,setToken] = useState('');
    const [user , setUser] = useState(null);
    const navigate = useNavigate();




    const addToCart = async(itemId , size) =>{

        if(!size){
            toast.error('Vui lòng chọn size sản phẩm !');
            return;
        } else {
            toast.success('Sản phẩm đã được thêm vào giỏ hàng');
        }


        let cartData = structuredClone(cartItems);
        
        if(cartData[itemId]){
            if(cartData[itemId][size]){
                cartData[itemId][size] +=1;
            }
            else{
                cartData[itemId][size] =1;
            }
        }
        else{
            cartData[itemId] = {};
            cartData[itemId][size] = 1;
        }
        setCartItems(cartData);

        if(token) {
            try {

                await axios.post(backendUrl + '/api/cart/add' , {itemId,size} , {headers:{token}});

            } catch (error) {
                console.log(error);
                toast.error(error.message);
            }
        }

    }

    const getCartCount = () =>{
        let totalCount = 0;
        for(const items in cartItems){
            for(const item in cartItems[items]){
                try {
                    if(cartItems[items][item] > 0){
                        totalCount += cartItems[items][item];
                    }
                    
                } catch (error) {
                    console.log(error);
                    toast.error(error.message);
                }
            }
        }
        return totalCount;
    }

    const updateQuantity = async(itemId ,size ,quantity) =>{
        let cartData = structuredClone(cartItems);

        cartData[itemId][size] = quantity;
        setCartItems(cartData);

        if(token) {
            try {
                await axios.post(backendUrl + '/api/cart/update' , {itemId,size,quantity} , {headers:{token}});
            } catch (error) {
                
            }
        }
    }

    const getCartAmount = () => {
        let totalAmount = 0;
        for(const items in cartItems){
            let itemInfo = products.find((product) => product._id === items);
            for(const item in cartItems[items]){
                try {
                    if(cartItems[items][item] > 0){
                        totalAmount += itemInfo.price * cartItems[items][item];
                    }
                } catch (error) {
                    
                }
            }
        }
        return totalAmount;
    }

    const getProductsData = async () =>{
      
        try {
            const response = await axios.get(backendUrl + '/api/product/list');
            if(response.data.success){
                setProducts(response.data.products);
                
            } else {
                toast.error(response.data.message);
            }
            
        } catch (error) {
            console.log(error);
            toast.error(error.message);
        }
    }

    const getUserCart = async (token) => {
        try {
            const response = await axios.post(backendUrl + '/api/cart/get' , {} , {headers:{token}});
            if(response.data.success){
                setCartItems(response.data.cartData);
            }
        } catch (error) {
            console.log(error);
            toast.error(error.message);
        }
    }

    useEffect(() => {
        getProductsData();
    },[])

    useEffect(() =>{
        if(!token && localStorage.getItem('token')){
            setToken(localStorage.getItem('token'));
            getUserCart(localStorage.getItem('token'));
        }
         if(!user && localStorage.getItem('user')){
            setUser(JSON.parse(localStorage.getItem('user')));
        }
    },[])

    const value = {
        products , currency , delivery_fee,
        search, setSearch,showSearch, setShowSearch,
        cartItems , addToCart , setCartItems ,
        getCartCount , updateQuantity ,
        getCartAmount, navigate , backendUrl,
        setToken,token , user , setUser,
    }

    return (
        <ShopContext.Provider value={value}>
            {props.children}
        </ShopContext.Provider>
    )
}

export default ShopContextProvider;
```

### frontend\src\pages\About.jsx
```jsx
import React from 'react'
import Title from '../components/Title'
import { assets } from '../assets/assets'
import NewsletterBox from '../components/NewsletterBox'
const About = () => {
  return (
    <div className='bg-white py-5'>

      <div className='text-2xl text-center pt-8 border-t'>
        <Title text1={'Giới thiệu'} text2={'về chúng tôi'}/>
      </div>

      <div className='my-10 flex flex-col md:flex-row gap-16 justify-center'>
        <img className='w-full md:max-w-[460px] rounded' src={assets.about_img} alt="" />
        <div className='flex flex-col justify-center gap-6 md:w-2/4 text-gray-600'>
            <p>TLOOK là một thương hiệu trẻ ra đời vào năm 2024, chuyên cung cấp các dòng vợt cầu lông chất lượng cao, phục vụ nhu cầu luyện tập và thi đấu của người chơi ở mọi trình độ – từ phong trào đến chuyên nghiệp.
              Với định hướng “Chất lượng tạo nên khác biệt”, TLOOK không chỉ là nơi bán sản phẩm, mà còn là người đồng hành đáng tin cậy của cộng đồng cầu lông tại Việt Nam.
            </p>
            <b className='text-gray-800 text-[18px]'>Sứ mệnh</b>  
            <p>TLOOK cam kết mang đến cho khách hàng những sản phẩm chính hãng, đa dạng, phù hợp với thể trạng người Việt, đồng thời tư vấn đúng – trúng – tận tâm nhằm giúp người chơi chọn được vợt phù hợp với phong cách và trình độ của mình.</p> 
            <b className='text-gray-800 text-[18px]'>Tầm nhìn</b>  
            <p>Chúng tôi hướng đến việc trở thành một trong những địa chỉ bán vợt cầu lông đáng tin cậy nhất tại Việt Nam, với hệ thống phân phối hiện đại và dịch vụ khách hàng chuyên nghiệp, từng bước góp phần phát triển phong trào cầu lông nước nhà.</p>     
        </div>
      </div>

      <div className='text-xl py-4'>
        <Title text1={'HÃY MUA HÀNG'} text2={'CỦA CHÚNG TÔI'}/>
      </div>

      <div className='flex flex-col md:flex-row text-sm mb-20'>

        <div className='border px-10 md:px-16 py-8 sm:py-20 flex flex-col gap-5 text-[16px]'>
            <b>Chất lượng chính hãng, nguồn gốc rõ ràng:</b>
            <p className='text-gray-600'>Tất cả sản phẩm đều được nhập khẩu hoặc phân phối chính thức, nói không với hàng giả, hàng nhái.</p>
        </div>
        <div className='border px-10 md:px-16 py-8 sm:py-20 flex flex-col gap-5 text-[16px]'>
            <b>Tư vấn chuẩn theo trình độ người chơi:</b>
            <p className='text-gray-600'>Đội ngũ am hiểu kỹ thuật, sẵn sàng tư vấn chọn vợt phù hợp với lối đánh, sức tay và kinh nghiệm.</p>
        </div>
        <div className='border px-10 md:px-16 py-8 sm:py-20 flex flex-col gap-5 text-[16px]'>
            <b>Dịch vụ hậu mãi uy tín – căng vợt, bảo hành tận tâm</b>
            <p className='text-gray-600'>Miễn phí căng vợt lần đầu, hỗ trợ bảo hành chính hãng và đổi trả theo quy định rõ ràng.</p>
        </div>
      </div>

      <NewsletterBox/>
    </div>
  )
}

export default About
```

### frontend\src\pages\Cart.jsx
```jsx
import React, { useContext, useEffect, useState } from "react";
import { ShopContext } from "../context/ShopContext";
import Title from "../components/Title";
import { assets } from "../assets/assets";
import CartTotal from "../components/CartTotal";

const Cart = () => {
  const { products, currency, cartItems, updateQuantity, navigate } =
    useContext(ShopContext);

  const [cartData, setCartData] = useState([]);

  useEffect(() => {
    if (products.length > 0) {
      const tempData = [];

      for (const items in cartItems) {
        for (const item in cartItems[items]) {
          if (cartItems[items][item] > 0) {
            tempData.push({
              _id: items,
              size: item,
              quantity: cartItems[items][item],
            });
          }
        }
      }
      setCartData(tempData);
    }
  }, [cartItems]);

  return (
    <div className="border-t pt-14 pb-1 bg-white">
      <div className="text-2xl mb-3">
        <Title text1={"Giỏ hàng"} text2={"của bạn"} />
      </div>

      <div>
        {cartData.map((item, index) => {
          const productData = products.find(
            (product) => product._id === item._id
          );

          return (
            <div
              key={index}
              className="py-4 border-t border-b text-gray-700 grid gird-cols-[4fr_0.5fr_0.5fr] sm:grid-cols-[4fr_2fr_0.5fr] items-center gap-4"
            >
              <div className="flex items-start gap-6">
                <img
                  className="w-16 sm:w-20"
                  src={productData?.image[0]}
                  alt=""
                />
                <div>
                  <p className="text-xs sm:text-lg font-medium">
                    {productData?.name}
                  </p>
                  <div className="flex items-center gap-5 mt-2">
                    <p className="text-[#e8002d]">
                      {productData?.price.toLocaleString("vi-VN")}
                      {currency}
                    </p>
                    <p className="px-2 sm:px-3 sm:py-1 border bg-slate-50 ">
                      {item.size}
                    </p>
                  </div>
                </div>
              </div>
              <input
                onChange={(e) =>
                  e.target.value === "" || e.target.value === "0"
                    ? null
                    : updateQuantity(
                        item._id,
                        item.size,
                        Number(e.target.value)
                      )
                }
                className="border max-w-10 sm:max-w-20 px-1 sm:px-2 py-1"
                type="number"
                min={1}
                defaultValue={item.quantity}
              />
              <img
                onClick={() => updateQuantity(item._id, item.size, 0)}
                className="w-4 mr-4 sm:w-5 cursor-pointer"
                src={assets.bin_icon}
                alt=""
              />
            </div>
          );
        })}
      </div>

      <div className="flex justify-end my-20 mr-8">
        <div className="w-full sm:w-[450px]">
          <CartTotal />
          <div className="w-full text-end">
            <button
              onClick={() => navigate("/place-order")}
              className="bg-black text-white text-sm my-8 px-8 py-3"
            >
              Thanh toán
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Cart;

```

### frontend\src\pages\Collection.jsx
```jsx
import React, { useContext, useEffect, useState } from 'react';
import { ShopContext } from '../context/ShopContext';
import { assets } from '../assets/assets';
import Title from '../components/Title';
import ProductItem from '../components/ProductItem';

const Collection = () => {

  const {products , search , showSearch } = useContext(ShopContext);
  const [showFilter,setShowfilter] = useState(false);
  const [filterProducts, setFilterProducts] = useState([]);
  const [category,setCategory] = useState([]);
  const [subCategory,setSubCategory] = useState([]);
  const [sortType, setSortType] = useState('relavent');

  const toggleCategory = (e) => {
    if(category.includes(e.target.value)){
      setCategory(prev=> prev.filter(item => item !== e.target.value));
    }
    else{
      setCategory(prev=> [...prev, e.target.value]);
    }
  }

  const toggleSubCategory = (e) => {
    if(subCategory.includes(e.target.value)){
      setSubCategory(prev=> prev.filter(item => item !== e.target.value));
    }
    else{
      setSubCategory(prev=> [...prev, e.target.value]);
    }
  }


  const applyFilter =() => {
    let productsCopy = products.slice();

    if(showSearch && search.length ){
      productsCopy = productsCopy.filter(item => item.name.toLowerCase().includes(search.toLowerCase()));
    }

    if(category.length > 0){
      productsCopy = productsCopy.filter(item => category.includes(item.category));
    }
    if(subCategory.length > 0){
      productsCopy = productsCopy.filter(item => subCategory.includes(item.subCategory));
    }

    setFilterProducts(productsCopy);
  }
 
  const sortProduct = () =>{
    let fpCopy = filterProducts.slice();
    switch (sortType) {
      case 'low-high':
        setFilterProducts(fpCopy.sort((a,b)=>(a.price - b.price)));
        break;
      case 'high-low':
        setFilterProducts(fpCopy.sort((a,b)=>(b.price - a.price)));
        break;
      
      default:
        applyFilter();
        break;
    }
  }

  useEffect(() => {
    applyFilter();
  },[category, subCategory , search , showSearch , products]);

  useEffect(() => {
    sortProduct();
  },[sortType]);

  return (
    <div className='flex flex-col sm:flex-row gap-1 sm:gap-10 pt-10 pb-10 border-t bg-white px-8'>
      {/* filter Options */}
      <div className='min-w-60'>
        <p onClick={()=>setShowfilter(!showFilter)} className='my-2 text-xl flex items-center cursor-pointer gap-2'>BỘ LỌC
          <img className={`h-3 sm:hidden ${showFilter ? 'rotate-90' : ''}`} src={assets.dropdown_icon} alt="" />
        </p>
        {/* Category Filter */}
        <div className={`border border-gray-300 pl-5 py-3 mt-6 ${showFilter ? '' :'hidden'} sm:block`}>
          <p className='mb-3 text-sm font-medium'>THƯƠNG HIỆU </p>
          <div className='flex flex-col gap-2 text-sm font-light text-gray-700'>
            <p className='flex gap-2'>
              <input className='w-3' type="checkbox" value={'Yonex'} onChange={toggleCategory} /> Yonex  
            </p>
             <p className='flex gap-2'>
              <input className='w-3' type="checkbox" value={'Victor'} onChange={toggleCategory} /> Victor
            </p>
             <p className='flex gap-2'>
              <input className='w-3' type="checkbox" value={'Lining'} onChange={toggleCategory} /> Lining 
            </p>
          </div>
        </div>
        {/* SubCategory Filter */}
         <div className={`border border-gray-300 pl-5 py-3 my-5 ${showFilter ? '' :'hidden'} sm:block`}>
          <p className='mb-3 text-sm font-medium'>PHONG CÁCH CHƠI </p>
          <div className='flex flex-col gap-2 text-sm font-light text-gray-700'>
            <p className='flex gap-2'>
              <input className='w-3' type="checkbox" value={'Attack'} onChange={toggleSubCategory} /> Tấn công
            </p>
             <p className='flex gap-2'>
              <input className='w-3' type="checkbox" value={'Defense'} onChange={toggleSubCategory} /> Phòng thủ , phản tạt  
            </p>
             <p className='flex gap-2'>
              <input className='w-3' type="checkbox" value={'Balance'} onChange={toggleSubCategory} /> Công thủ toàn diện 
            </p>
          </div>
        </div>       
      </div>
      {/* Right Side */}
      <div className='flex-1'>
        <div className='flex justify-between text-base sm:text-2xl mb-4'>
          <div className='flex items-center gap-3 mb-4'>
            <h2 className='text-2xl sm:text-3xl font-bold text-gray-800'>
              TẤT CẢ <span className='text-blue-600'>SẢN PHẨM</span>
            </h2>
          </div>
          {/* Product Sort */}
          <select onChange={(e)=>setSortType(e.target.value)} className='border-2 border-gray-300 text-sm px-2 cursor-pointer'>
            <option value="relavent">Sắp xếp theo giá: Liên quan</option>
            <option value="low-high">Sắp xếp theo giá: Thấp đến Cao</option>
            <option value="high-low">Sắp xếp theo giá: Cao đến Thấp</option>
          </select>
        </div>

        {/* Map Products */}
        <div className='grid grid-cols-2 md:gird-cols-3 lg:grid-cols-4 gap-4 gap-y-6'>
          {
            filterProducts.map((item,index)=>(
              <ProductItem key = {index} name={item.name} id={item._id} image={item.image} price={item.price}/>
            ))
          }
        </div>

      </div>
    </div>
  )
}

export default Collection
```

### frontend\src\pages\Contact.jsx
```jsx
import React from 'react'
import Title from '../components/Title'
import { assets } from '../assets/assets'
import NewsletterBox from '../components/NewsletterBox'
import { useForm, ValidationError } from '@formspree/react';
const Contact = () => {

  const [state, handleSubmit] = useForm("xgvpgwlb");
  if (state.succeeded) {
      return <p>Cảm ơn bạn đã gửi lời nhắn cho Shop!</p>;
  }

  return (
    <div className='bg-white py-5'>

      <div className='text-center text-2xl pt-10 border-t'>
          <Title text1={'Liên hệ'} text2={'về chúng tôi'}/>
      </div>

      <div className='my-10 flex flex-col justify-center md:flex-row gap-8 mb-28'>
        <img className='w-full md:max-w-[480px] rounded' src={assets.contact_img} alt="" />
        <div className='flex flex-col justify-center items-start gap-6'>
          <p className='font-semibold text-xl text-gray-600'> Nơi giải đáp toàn bộ mọi thắc mắc của bạn?</p>
          <p className='text-gray-500'> 981 Kim Giang <br />Thanh Trì,Hà Nội,Việt Nam</p>
          <p className='text-gray-500'> Số điện thoại chủ shop: 0353542949 <br />Email: duythien2902@gmail.com</p>
          <p className='text-gray-500'> Hotline: 0398184532 <br />Email: tlook@gmail.com</p>
          <form onSubmit={handleSubmit} className='flex flex-col gap-2  w-[100%]'>
            <label htmlFor="email">
              Email liên hệ của bạn
            </label>
            <input
              id="email"
              type="email" 
              name="email"
              className='border p-2 rounded'
              placeholder='Nhập email của bạn...'
            />
            <ValidationError 
              prefix="Email" 
              field="email"
              errors={state.errors}
            />
            <textarea
              id="message"
              name="message"
              className='border p-2 rounded'
              placeholder='Hãy lại lời nhắn của bạn...'
            />
            <ValidationError 
              prefix="Message" 
              field="message"
              errors={state.errors}
            />
            <button type="submit" className='border rounded border-black px-8 py-2 text-sm hover:bg-black hover:text-white transition-all duration-300' disabled={state.submitting}>
              Submit
            </button>
          </form>
          {/* <button className='border border-black px-8 py-2 text-sm hover:bg-black hover:text-white transition-all duration-300'>Explore Jobs</button> */}
        </div>
      </div>
  
    <NewsletterBox />
    
    </div>
  )
}

export default Contact
```

### frontend\src\pages\Home.jsx
```jsx
import React from 'react'
import Hero from '../components/Hero'
import LatestCollection from '../components/LatestCollection'
import BestSeller from '../components/BestSeller'
import OurPolicy from '../components/OurPolicy'
import NewsletterBox from '../components/NewsletterBox'

const Home = () => {
  return (
    <div className='bg-white'>
      <Hero />
      <LatestCollection/>
      <BestSeller />
      <OurPolicy />
      <NewsletterBox />
    </div>
  )
}

export default Home
```

### frontend\src\pages\Login.jsx
```jsx
import React, { useState } from 'react'
import { useContext } from 'react';
import { ShopContext } from '../context/ShopContext';
import axios from 'axios';
import { toast } from 'react-toastify';
import { useEffect } from 'react';


const Login = () => {
  
  const [currentState , setCurrentState] = useState('Đăng nhập');
  const {token, setToken , navigate , backendUrl , setUser} = useContext(ShopContext)
  const [name,setName] = useState('');
  const [password,setPassword] = useState('');
  const [email,setEmail] = useState('');


  const onSubmitHandler = async (event) =>{
    event.preventDefault(); 
    try {
      if(currentState === 'Đăng ký'){

        const response = await axios.post(backendUrl + '/api/user/register' , {name,email,password});
         if (response.data.success){
        toast.success("Đăng ký thành công! Vui lòng đăng nhập.");
        setCurrentState('Đăng nhập');
        setName('');
        setPassword('');
        
    } else {
      toast.error(response.data.message);
    }
      }
      else {

        const response  = await axios.post(backendUrl + '/api/user/login' , {email,password});
        if(response.data.success){
          setToken(response.data.token);
          setUser(response.data.user);
          localStorage.setItem('token' , response.data.token);
          localStorage.setItem('user' , JSON.stringify(response.data.user));
        } else {
          toast.error(response.data.message);
        }
        

      }
    } catch (error) {
      console.log(error);
      toast.error(error.message);
      
    }
  }

  useEffect(() =>{
    if(token){
      navigate('/');
    }
  },[token])


  return (
    <form onSubmit={onSubmitHandler} className='flex flex-col items-center w-[90%] sm:max-w-96 m-auto mt-14 mb-14 gap-4 text-gray-800 bg-white rounded-lg shadow-lg p-6'>
      <div className='inline-flex items-center gap-2 mb-2 mt-10'>
        <p className='parata-regular text-3xl'>{currentState}</p>
        <hr  className='border-none h-[1.5px] w-8 bg-gray-800'/>
      </div> 
      {currentState === 'Đăng nhập' ? '' : <input onChange={(e) =>setName(e.target.value)} value={name} type="text" className='w-full px-3 py-2 border border-gray-800' placeholder='Tên' required />}
      <input onChange={(e) =>setEmail(e.target.value)} value={email} type="email" className='w-full px-3 py-2 border border-gray-800' placeholder='Email' required />
      <input onChange={(e) =>setPassword(e.target.value)} value={password} type="password" className='w-full px-3 py-2 border border-gray-800' placeholder='Mật khẩu' required />
      <div className='w-full flex justify-between text-sm mt-[-8px]'>
        <p className='cursor-pointer hover:text-[#E95221]'>Quên mật khẩu?</p>
        {
          currentState === 'Đăng nhập' 
          ? <p onClick={() => setCurrentState('Đăng ký')} className='cursor-pointer hover:text-[#E95221]'>Tạo tài khoản</p>
          : <p  onClick={() => setCurrentState('Đăng nhập')} className='cursor-pointer hover:text-[#E95221]'>Đăng nhập tại đây</p>
        }
      </div>
      <button className='bg-black text-white font-light px-8 py-2 mt-4'>{currentState === 'Đăng nhập' ? 'Đăng nhập' : 'Đăng ký'}</button>
    </form>
  )
}

export default Login
```

### frontend\src\pages\Orders.jsx
```jsx
import React, { useContext } from 'react'
import { ShopContext } from '../context/ShopContext'
import Title from '../components/Title'
import { useState } from 'react';
import { useEffect } from 'react';
import axios from 'axios';

const Orders = () => {

  const {backendUrl , token , currency} = useContext(ShopContext);

  const [orderData,setorderData] = useState([]);

  const loadOrderData = async () => {
    try {
      if(!token){
          return null;
      }

      const response = await axios.post(backendUrl + '/api/order/userorders',{},{headers:{token}});
      if (response.data.success){
        let allOrdersItem = []
        response.data.orders.map((order) => {
            order.items.map((item)=>{
              item['status'] = order.status
              item['payment'] = order.payment
              item['paymentMethod'] = order.paymentMethod
              item['createdAt'] = order.createdAt
              // item['date'] = order.date
              allOrdersItem.push(item)
            })
        })
        setorderData(allOrdersItem.reverse());
        
      }
      

    } catch (error) {
      
    }
  }
console.log(orderData);

  useEffect(() =>{
    loadOrderData();
  },[token])

  return (
    <div className='border-t pt-16 pb-16 px-8 bg-white'>

      <div className='text-2xl'>
        <Title  text1={'Đơn hàng'} text2={'của tôi'} />
      </div>

      <div >
        {
          orderData.map((item,index) =>(
            <div key={index} className='py-4 border-t border-b text-gray-700 flex felx-col md:flex-row md:item-center md:justify-between gap-4'>
                <div className='flex items-start gap-6 text-sm'>
                  <img className='w-16 sm:w-20' src={item.image[0]} alt="" />
                  <div>
                    <p className='sm:text-base font-medium '>{item.name}</p>
                    <div className='flex items-center gap-3 mt-1 text-base text-gray-700'>
                      <p>{item.price.toLocaleString('vi-VN')}{currency}</p>
                      <p>Số lượng: {item.quantity}</p>
                      <p>Sise: {item.size}</p>
                    </div>
                    
                    {/* <p className='mt-1'>Ngày: <span className='text-gray-400'>{new Date(item.date).toLocaleDateString()}</span></p> */}
                    <p className='mt-1'>Ngày: <span className='text-gray-400'>{new Date(item.createdAt).toLocaleDateString('vi-VN')}</span></p>

                    <p className='mt-1'>Phương thức thanh toán: <span className='text-gray-400'>{item.paymentMethod}</span></p>
                  </div>
                </div>
                <div className='md:w-1/2 flex justify-between '>
                    <div className='flex items-center gap-2'>
                        <p className='min-w-2 h-2 rounded-full bg-green-500'></p>
                        <p className='text-sm md:text-base'>{item.status}</p>
                    </div>
                    <button onClick={loadOrderData} className='border px-4 py-2 text-sm font-medium rounded-md hover:bg-black hover:text-white transition ease-in-out'>Theo dõi đơn hàng</button>
                </div>
            </div>
          ))
        }
      </div>

    </div>
  )
}

export default Orders
```

### frontend\src\pages\PlaceOrder.jsx
```jsx
import React, { useContext, useState } from 'react'
import Title from '../components/Title'
import CartTotal from '../components/CartTotal'
import { assets } from '../assets/assets'
import { ShopContext } from '../context/ShopContext'
import { toast } from 'react-toastify'
import axios from 'axios'


const PlaceOrder = () => {

  const [method,setMethod] = useState('cod');
  const {navigate ,  backendUrl , token , cartItems , setCartItems , getCartAmount, delivery_fee , products} = useContext(ShopContext);
  const [formData , setFormData] = useState({
    firstName:'',
    lastName:'',
    email:'',
    street:'',
    city:'',
    state:'',
    zipcode:'',
    country:'',
    phone:''
  });

  const onChangeHandler = (event) => {
    const name = event.target.name;
    const value = event.target.value

    setFormData(data => ({...data , [name]:value}));

  }

  const onSubmitHandler = async (event) => {
    event.preventDefault();
    try {
      let orderItems = [];
      for( const items in cartItems) {
        for (const item in cartItems[items]){
          if(cartItems[items][item] > 0){
            const itemInfo = structuredClone(products.find(product => product._id === items));
            if(itemInfo){
              itemInfo.size = item
              itemInfo.quantity = cartItems[items][item]
              orderItems.push(itemInfo);
            }
          }
        }
      }
     
      let orderData = {
        address: formData,
        items: orderItems,
        amount: getCartAmount() + delivery_fee
      }
 
      switch(method){

        // API calls for COD
        case 'cod':
            const response = await axios.post(backendUrl + '/api/order/place', orderData,{headers:{token}});
       
            if(response.data.success){
              setCartItems({});
              navigate('/orders');
            } else {
              toast.error(response.data.message);
            }
            break;

          case 'stripe':
              const responseStripe = await axios.post(backendUrl + '/api/order/stripe' , orderData , {headers:{token}}); 
              if(responseStripe.data.success){
                const {session_url} = responseStripe.data;
                window.location.replace(session_url);
              } else {
                toast.error(responseStripe.data.message);
              }

            break;

            
        default:
          break;

      }
      

    } catch (error) {
      console.log(error);
      toast.error(error.message);
      
    }
  }

  return (
    <form onSubmit={onSubmitHandler} className='flex flex-col sm:flex-row justify-between gap-4 pt-5 sm:pt-14 sm:pb-14 min-h[80vh] border-t bg-white px-8'>
      {/* Left Side */}
      <div className='flex flex-col gap-4 w-full sm:max-w-[480px]'>

          <div className='text-xl sm:text-2xl my-3'>
            <Title text1={'Thông tin'} text2={'giao hàng'} />
          </div>
          <div className='flex gap-3'> 
            <input required onChange={onChangeHandler} name='firstName' value={formData.firstName} className='border border-gray-300 rounded py-1.5 px-3.5 w-full' type="text" placeholder='Họ' />
            <input required  onChange={onChangeHandler} name='lastName' value={formData.lastName} className='border border-gray-300 rounded py-1.5 px-3.5 w-full' type="text" placeholder='Tên' />
          </div>
          <input required  onChange={onChangeHandler} name='email' value={formData.email} className='border border-gray-300 rounded py-1.5 px-3.5 w-full' type="email" placeholder='Email' />
          <input required  onChange={onChangeHandler} name='street' value={formData.street} className='border border-gray-300 rounded py-1.5 px-3.5 w-full' type="text" placeholder='Địa chỉ nhà' />
          <div className='flex gap-3'> 
            <input required  onChange={onChangeHandler} name='city' value={formData.city} className='border border-gray-300 rounded py-1.5 px-3.5 w-full' type="text" placeholder='Quận,huyện' />
            <input required  onChange={onChangeHandler} name='state' value={formData.state} className='border border-gray-300 rounded py-1.5 px-3.5 w-full' type="text" placeholder='Thành phố' />
          </div>
          <div className='flex gap-3'> 
            <input required  onChange={onChangeHandler} name='zipcode' value={formData.zipcode} className='border border-gray-300 rounded py-1.5 px-3.5 w-full' type="number" placeholder='Mã bưu chính' />
            <input required  onChange={onChangeHandler} name='country' value={formData.country} className='border border-gray-300 rounded py-1.5 px-3.5 w-full' type="text" placeholder='Quốc gia' />
          </div>
           <input required  onChange={onChangeHandler} name='phone' value={formData.phone} className='border border-gray-300 rounded py-1.5 px-3.5 w-full' type="number" placeholder=' Số điện thoại' />
      </div>

      {/* Right Side */}
      <div className='mt-8'>
        
        <div className='mt-8 min-w-80'>
            <CartTotal />
        </div>

        <div className='mt-12'>
            <Title text1={'Phương thức'} text2={'thanh toán'} />
            {/* Payment Methods */}
            <div className='flex flex-col gap-3 lg:flex-row'>
                <div onClick = {() => setMethod('stripe')} className='flex items-center gap-3 border p-2 px-3 cursor-pointer'>
                    <p className={`min-w-3.5 h-3.5 border rounded-full ${method === 'stripe' ? 'bg-green-400' : ''}`}></p>
                    <img className='h-5 mx-4' src={assets.stripe_logo} alt="" />
                </div>
                <div onClick = {() => setMethod('razorpay')} className='flex items-center gap-3 border p-2 px-3 cursor-pointer'>
                    <p className={`min-w-3.5 h-3.5 border rounded-full ${method === 'razorpay' ? 'bg-green-400' : ''}`}></p>
                    <img className='h-5 mx-4' src={assets.razorpay_logo} alt="" />
                </div>
                <div onClick = {() => setMethod('cod')} className='flex items-center gap-3 border p-2 px-3 cursor-pointer'>
                    <p className={`min-w-3.5 h-3.5 border rounded-full ${method === 'cod' ? 'bg-green-400' : ''}`}></p>
                    <p className='text-gray-500 text-sm font-medium mx-4'> Thanh toán khi nhận hàng</p>
                </div>
            </div>

            <div className='w-full text-end mt-8'>
              <button type='submit'  className='bg-black text-white px-16 py-3 tetx-sm'>ĐẶT HÀNG</button>
            </div>
        </div>

      </div>

    </form>
  )
}

export default PlaceOrder
```

### frontend\src\pages\Product.jsx
```jsx
import React, { useContext, useState, useEffect} from 'react'
import { useParams } from 'react-router-dom'
import {ShopContext}  from '../context/ShopContext';
import { assets } from '../assets/assets'
import RelatedProducts from '../components/RelatedProducts';
const Product = () => {

  const {productId} = useParams();
  const {products , currency , addToCart} = useContext(ShopContext);
  const [productData ,setProductData] = useState(false);
  const [image , setImage] = useState('');
  const [size, setSize] = useState('');

  // const fetchProductData = async () => {
  //   console.log("ProductIdasdasdsd", productId);
    
  //   products.map((item) => {
  //     if(item._id == productId){
  //       setProductData(item);
  //       setImage(item.image[0]);
  //       return null;
  //     }
  //   });
  // }

  // useEffect(() =>{
  //   console.log("ProductId");
  //   fetchProductData();
  // },[productId]);
  const fetchProductData = async () => {
    if (products && products.length > 0) {
      const product = products.find((item) => item._id === productId);
      if (product) {
        setProductData(product);
        setImage(product.image[0]);
      }
    }
  };

  useEffect(() => {
    fetchProductData();
  }, [productId, products]);
console.log("Product Data123123", productData);

  return productData ? (

    <div className='border-t-2 pt-10 transition-opacity ease-in duration-500 opacity-100 bg-white'>

      {/* Product Data */}
      <div className='flex gap-12 sm:gap-12 flex-col sm:flex-row'>

        {/* Product Images */}
        <div className='flex-1 flex flex-col-reverse gap-3 sm:flex-row'>
          <div className='flex sm:flex-col overflow-x-auto sm:overflow-y-scroll justify-between sm:justify-normal sm:w-[18.7%] w-full '>
              {
                productData.image.map((item,index)=>(
                  <img onClick = {()=> {setImage(item)}} src={item} key={index} className='w-[85%] sm:mb-3 flex-shrink-0 cursor-pointer border p-2' alt="" />
                ))
              }
          </div>
          <div className='w-full sm:w-[65%] '>
              <img className='w-full h-auto ' src={image} alt="" />
          </div>        
        </div>
        
        {/* Product Info  */}
          <div className='flex-1'>
              <h1 className='font-medium text-2xl mt-2'>{productData.name}</h1>
              <div className='flex items-center gap-1 mt-2'>
                  <img src={assets.star_icon} alt="" className="w-3 5" />
                  <img src={assets.star_icon} alt="" className="w-3 5" />
                  <img src={assets.star_icon} alt="" className="w-3 5" />
                  <img src={assets.star_icon} alt="" className="w-3 5" />
                  <img src={assets.star_dull_icon} alt="" className="w-3 5" />
                  <p className='pl-2'>(122)</p>
              </div>
              <p className='mt-5 text-3xl font-medium text-[#e8002d]'>{productData.price.toLocaleString('vi-VN')}{currency}</p>
              <p className='mt-5 text-gray-500 md:w-4/5'>{productData.description}</p>
              <div className='flex flex-col gap-4 my-8'>
                  <p>Chọn size</p>
                  <div className='flex gap-2'>
                      {productData.sizes.map((item,index)=>(
                        <button onClick = {() =>setSize(item)} className={`border py-2 px-4 bg-gray-100 ${item === size ? 'border-orange-500' : '' } `} key={index}>{item}</button>
                      ))}
                  </div>
              </div>
              <button onClick={() => addToCart(productData._id , size)} className='bg-black text-white px-8 py-3 text-sm active:bg-gray-700'>THÊM VÀO GIỎ HÀNG</button>
               <hr className='mt-8 sm:w-4/5'/>    
               <div className='text-sm text-gray-500 mt-5 flex flex-col gap-1'>
                <p>Sản phẩm vợt cầu lông chính hãng 100%.</p>
                <p>Hỗ trợ giao hàng toàn quốc, thanh toán khi nhận hàng.</p>
                <p>Bảo hành chính hãng, đổi trả dễ dàng trong 7 ngày nếu có lỗi từ nhà sản xuất.</p>
                <p>Tư vấn chọn vợt phù hợp miễn phí cho mọi khách hàng.</p>
              </div> 
          </div>      
      </div>

      {/* Description & Reviews Section */}
      <div className='mt-20 '>
        <div className = 'flex'>
          <b className='border px-5 py-3 text-sm'>Mô tả</b>
          <p className='border px-5 py-3 text-sm'>Đánh giá (222)</p>
        </div>
        <div className='flex flex-col gap-4 border px-6 py-6 text-sm text-gray-500'>
          <p>{productData.description}</p>
        </div>              
      </div>

      {/* display related products */}

        <RelatedProducts category = {productData.category} subCategory = {productData.subCategory} />              


    </div>

  ) : <div className='opacity-0'> </div>

}

export default Product
```

### frontend\src\pages\Profile.jsx
```jsx
import React, { useContext, useEffect, useState } from "react";
import { ShopContext } from "../context/ShopContext";
import { toast } from "react-toastify";
import axios from "axios";

const Profile = () => {
  const { token, backendUrl , user , setUser } = useContext(ShopContext);

  const [userData, setUserData] = useState({
    name: "",
    email: "",
    phone_number: "",
    gender: "",
    address: "",
  });

  const [isEditing, setIsEditing] = useState(false);
  const [passwordData, setPasswordData] = useState({
    currentPassword: "",
    newPassword: "",
    confirmPassword: "",
  });
  const [showPasswordForm, setShowPasswordForm] = useState(false);
  const [loading, setLoading] = useState(false);

  // Lấy thông tin user khi component mount
  useEffect(() => {
    if (token) {
      getUserProfile();
    }
  }, [token]);

  const getUserProfile = async () => {
    try {
      setLoading(true);
      const response = await axios.get(backendUrl + "/api/user/profile", {
        headers: { token },
      });

      if (response.data.success) {
        setUserData({
          name: response.data.user.name || "",
          email: response.data.user.email || "",
          phone_number: response.data.user.phone_number || "",
          gender: response.data.user.gender || "",
          address: response.data.user.address || "",
        });
      } else {
        toast.error(response.data.message);
      }
    } catch (error) {
      console.log(error);
      toast.error("Có lỗi xảy ra khi tải thông tin");
    } finally {
      setLoading(false);
    }
  };

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setUserData((prev) => ({
      ...prev,
      [name]: value,
    }));
  };

  const handlePasswordChange = (e) => {
    const { name, value } = e.target;
    setPasswordData((prev) => ({
      ...prev,
      [name]: value,
    }));
  };

  const updateProfile = async () => {

    if (!userData.name.trim()) {
      toast.error("Vui lòng nhập họ tên");
      return;
    }

    if (!userData.email.trim()) {
      toast.error("Vui lòng nhập email");
      return;
    }

    try {
      setLoading(true);
      const response = await axios.put(backendUrl + "/api/user/profile", userData, {
        headers: { token },
      });

      if (response.data.success) {
        toast.success(response.data.message);
        setUser(
            response.data.user
        );
        setIsEditing(false);
      } else {
        toast.error(response.data.message);
      }
    } catch (error) {
      console.log(error);
      toast.error("Có lỗi xảy ra khi cập nhật thông tin");
    } finally {
      setLoading(false);
    }
  };

  const changePassword = async () => {
    // Validation
    if (!passwordData.currentPassword.trim()) {
      toast.error("Vui lòng nhập mật khẩu hiện tại");
      return;
    }

    if (!passwordData.newPassword.trim()) {
      toast.error("Vui lòng nhập mật khẩu mới");
      return;
    }

    if (passwordData.newPassword !== passwordData.confirmPassword) {
      toast.error("Mật khẩu xác nhận không khớp");
      return;
    }

    if (passwordData.newPassword.length < 8) {
      toast.error("Mật khẩu mới phải có ít nhất 8 ký tự");
      return;
    }

    try {
      setLoading(true);
      const response = await axios.put(
        backendUrl + "/api/user/profile",
        {
          currentPassword: passwordData.currentPassword,
          newPassword: passwordData.newPassword,
        },
        {
          headers: { token },
        }
      );

      if (response.data.success) {
        toast.success("Đổi mật khẩu thành công");
        setPasswordData({
          currentPassword: "",
          newPassword: "",
          confirmPassword: "",
        });
        setShowPasswordForm(false);
      } else {
        toast.error(response.data.message);
      }
    } catch (error) {
      console.log(error);
      toast.error("Có lỗi xảy ra khi đổi mật khẩu");
    } finally {
      setLoading(false);
    }
  };

  // Tạo avatar từ chữ cái đầu của tên
  const getInitials = (name) => {
    return name
      .split(" ")
      .map((word) => word.charAt(0))
      .join("")
      .toUpperCase()
      .slice(0, 2);
  };

  if (loading) {
    return (
      <div className="min-h-[80vh] flex items-center justify-center">
        <div className="text-center">
          <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"></div>
          <p className="mt-4 text-gray-600">Đang tải...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-[80vh] flex flex-col justify-center py-5 px-4">
      <div className="max-w-2xl mx-auto w-full">
        <div className="bg-white p-4 sm:p-8 rounded-lg shadow-lg">
          {/* Header với avatar */}
          <div className="flex flex-col sm:flex-row items-center justify-between mb-8 gap-4">
            <div className="flex flex-col sm:flex-row items-center gap-4 text-center sm:text-left">
              <div className="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl">
                {userData.name ? getInitials(userData.name) : "U"}
              </div>
              <div>
                <h2 className="text-2xl font-bold text-gray-800">Hồ sơ của tôi</h2>
                <p className="text-gray-600">{userData.email}</p>
              </div>
            </div>
            <button
              onClick={() => setIsEditing(!isEditing)}
              className={`px-4 py-2 rounded transition-colors w-full sm:w-auto ${
                isEditing ? "bg-gray-500 hover:bg-gray-600 text-white" : "bg-blue-500 hover:bg-blue-600 text-white"
              }`}
            >
              {isEditing ? "Hủy" : "Chỉnh sửa"}
            </button>
          </div>

          <div className="flex flex-col gap-6">
            {/* Thông tin cá nhân */}
            <div className="space-y-4">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">Họ và tên *</label>
                <input
                  type="text"
                  name="name"
                  value={userData.name}
                  onChange={handleInputChange}
                  disabled={!isEditing}
                  placeholder="Nhập họ và tên"
                  className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"
                  required
                />
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">Email *</label>
                <input
                  type="email"
                  name="email"
                  value={userData.email}
                  onChange={handleInputChange}
                  disabled={!isEditing}
                  placeholder="Nhập địa chỉ email"
                  className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"
                  required
                />
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">Số điện thoại</label>
                <input
                  type="tel"
                  name="phone_number"
                  value={userData.phone_number}
                  onChange={handleInputChange}
                  disabled={!isEditing}
                  placeholder="Nhập số điện thoại"
                  className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"
                />
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">Giới tính</label>
                <select
                  name="gender"
                  value={userData.gender}
                  onChange={handleInputChange}
                  disabled={!isEditing}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"
                >
                  <option value="">Chọn giới tính</option>
                  <option value="male">Nam</option>
                  <option value="female">Nữ</option>
                  <option value="other">Khác</option>
                </select>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-1">Địa chỉ</label>
                <textarea
                  name="address"
                  value={userData.address}
                  onChange={handleInputChange}
                  disabled={!isEditing}
                  rows="3"
                  placeholder="Nhập địa chỉ chi tiết"
                  className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 resize-none"
                />
              </div>
            </div>

            {/* Nút cập nhật thông tin */}
            {isEditing && (
              <div className="flex flex-col sm:flex-row gap-3">
                <button
                  onClick={updateProfile}
                  disabled={loading}
                  className="px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  {loading ? "Đang lưu..." : "Lưu thay đổi"}
                </button>
                <button
                  onClick={() => {
                    setIsEditing(false);
                    getUserProfile(); // Reset về dữ liệu gốc
                  }}
                  disabled={loading}
                  className="px-6 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  Hủy
                </button>
              </div>
            )}
          </div>

          {/* Đổi mật khẩu */}
          <div className="border-t pt-6">
            <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4">
              <h3 className="text-lg font-semibold text-gray-800">Đổi mật khẩu</h3>
              <button
                onClick={() => setShowPasswordForm(!showPasswordForm)}
                disabled={loading}
                className="px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed w-full sm:w-auto"
              >
                {showPasswordForm ? "Hủy" : "Đổi mật khẩu"}
              </button>
            </div>

            {showPasswordForm && (
              <div className="space-y-4">
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Mật khẩu hiện tại</label>
                  <input
                    type="password"
                    name="currentPassword"
                    value={passwordData.currentPassword}
                    onChange={handlePasswordChange}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    required
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Mật khẩu mới</label>
                  <input
                    type="password"
                    name="newPassword"
                    value={passwordData.newPassword}
                    onChange={handlePasswordChange}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    required
                  />
                </div>

                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Xác nhận mật khẩu mới</label>
                  <input
                    type="password"
                    name="confirmPassword"
                    value={passwordData.confirmPassword}
                    onChange={handlePasswordChange}
                    className="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    required
                  />
                </div>

                <button
                  onClick={changePassword}
                  disabled={loading}
                  className="px-6 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed w-full sm:w-auto"
                >
                  {loading ? "Đang cập nhật..." : "Cập nhật mật khẩu"}
                </button>
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

export default Profile;

```

### frontend\src\pages\Verify.jsx
```jsx
import React from 'react'
import { useContext } from 'react'
import { ShopContext } from '../context/ShopContext'
import { useSearchParams } from 'react-router-dom'
import { useEffect } from 'react'
import axios from 'axios'
import { toast } from 'react-toastify'
const Verify = () => {

    const { navigate , token , setCartItems ,  backendUrl} = useContext(ShopContext)

    const [searchParams , setSearchParams] = useSearchParams();

    const success = searchParams.get('success');
    const orderId = searchParams.get('orderId');


    const verifyPayment = async () => {

        try {
            if(!token) {
                return null;
            }

            const response = await axios.post(backendUrl + '/api/order/verifyStripe',{success,orderId},{headers:{token}});

            if(response.data.success){
                setCartItems({});
                navigate('/orders');
            } else {
                navigate('/cart');
            }
        } catch (error) {
            console.log(error);
            toast.error(error.message);
            
        }

    }

    useEffect(() => {
        verifyPayment();
    }, [token]);


  return (
    <div>
        
    </div>
  )
}

export default Verify
```
